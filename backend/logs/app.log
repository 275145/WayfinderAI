{"timestamp": "2025-12-04T16:44:13.123789Z", "level": "INFO", "logger": "app.config", "message": "配置加载完成。", "module": "config", "function": "<module>", "line": 86}
{"timestamp": "2025-12-04T16:44:15.491787Z", "level": "INFO", "logger": "app.config", "message": "LLM服务初始化完成。Provider: modelscope, Model: Qwen/Qwen2.5-7B-Instruct, Base URL: https://api-inference.modelscope.cn/v1/", "module": "llm_service", "function": "__init__", "line": 44}
{"timestamp": "2025-12-04T16:44:17.343597Z", "level": "INFO", "logger": "app.config", "message": "LLM服务初始化完成。Provider: modelscope, Model: Qwen/Qwen2.5-7B-Instruct, Base URL: https://api-inference.modelscope.cn/v1/", "module": "llm_service", "function": "__init__", "line": 44}
{"timestamp": "2025-12-04T16:44:20.138925Z", "level": "INFO", "logger": "app.config", "message": "智能旅行助手API已启动", "module": "main", "function": "on_startup", "line": 28}
{"timestamp": "2025-12-04T16:44:21.892699Z", "level": "INFO", "logger": "app.config", "message": "配置加载完成。", "module": "config", "function": "<module>", "line": 86}
{"timestamp": "2025-12-04T16:44:24.273733Z", "level": "INFO", "logger": "app.config", "message": "LLM服务初始化完成。Provider: modelscope, Model: Qwen/Qwen2.5-7B-Instruct, Base URL: https://api-inference.modelscope.cn/v1/", "module": "llm_service", "function": "__init__", "line": 44}
{"timestamp": "2025-12-04T16:44:26.205270Z", "level": "INFO", "logger": "app.config", "message": "LLM服务初始化完成。Provider: modelscope, Model: Qwen/Qwen2.5-7B-Instruct, Base URL: https://api-inference.modelscope.cn/v1/", "module": "llm_service", "function": "__init__", "line": 44}
{"timestamp": "2025-12-04T16:44:28.986106Z", "level": "INFO", "logger": "app.middleware.degradation", "message": "注册降级策略: default", "module": "degradation", "function": "register_strategy", "line": 111}
{"timestamp": "2025-12-04T16:44:28.986106Z", "level": "INFO", "logger": "app.middleware.degradation", "message": "注册降级策略: trip_plan", "module": "degradation", "function": "register_strategy", "line": 111}
{"timestamp": "2025-12-04T16:44:28.995411Z", "level": "INFO", "logger": "app.config", "message": "智能旅行助手API已启动", "module": "main", "function": "on_startup", "line": 33}
{"timestamp": "2025-12-04T16:44:30.744353Z", "level": "INFO", "logger": "app.config", "message": "配置加载完成。", "module": "config", "function": "<module>", "line": 86}
{"timestamp": "2025-12-04T16:44:33.171584Z", "level": "INFO", "logger": "app.config", "message": "LLM服务初始化完成。Provider: modelscope, Model: Qwen/Qwen2.5-7B-Instruct, Base URL: https://api-inference.modelscope.cn/v1/", "module": "llm_service", "function": "__init__", "line": 44}
{"timestamp": "2025-12-04T16:44:35.035213Z", "level": "INFO", "logger": "app.config", "message": "LLM服务初始化完成。Provider: modelscope, Model: Qwen/Qwen2.5-7B-Instruct, Base URL: https://api-inference.modelscope.cn/v1/", "module": "llm_service", "function": "__init__", "line": 44}
{"timestamp": "2025-12-04T16:44:37.847102Z", "level": "INFO", "logger": "app.middleware.degradation", "message": "注册降级策略: default", "module": "degradation", "function": "register_strategy", "line": 111}
{"timestamp": "2025-12-04T16:44:37.847102Z", "level": "INFO", "logger": "app.middleware.degradation", "message": "注册降级策略: trip_plan", "module": "degradation", "function": "register_strategy", "line": 111}
{"timestamp": "2025-12-04T16:44:37.847102Z", "level": "INFO", "logger": "app.config", "message": "限流中间件已启用: token_bucket, 速率=100/秒", "module": "main", "function": "<module>", "line": 97}
{"timestamp": "2025-12-04T16:44:37.847102Z", "level": "INFO", "logger": "app.config", "message": "智能旅行助手API已启动", "module": "main", "function": "on_startup", "line": 105}
{"timestamp": "2025-12-04T16:44:39.549709Z", "level": "INFO", "logger": "app.config", "message": "配置加载完成。", "module": "config", "function": "<module>", "line": 86}
{"timestamp": "2025-12-04T16:44:39.555732Z", "level": "INFO", "logger": "app.middleware.degradation", "message": "注册降级策略: default", "module": "degradation", "function": "register_strategy", "line": 111}
{"timestamp": "2025-12-04T16:44:39.557737Z", "level": "INFO", "logger": "app.middleware.degradation", "message": "注册降级策略: trip_plan", "module": "degradation", "function": "register_strategy", "line": 111}
{"timestamp": "2025-12-04T16:44:42.025571Z", "level": "INFO", "logger": "app.config", "message": "LLM服务初始化完成。Provider: modelscope, Model: Qwen/Qwen2.5-7B-Instruct, Base URL: https://api-inference.modelscope.cn/v1/", "module": "llm_service", "function": "__init__", "line": 44}
{"timestamp": "2025-12-04T16:44:43.954099Z", "level": "INFO", "logger": "app.config", "message": "LLM服务初始化完成。Provider: modelscope, Model: Qwen/Qwen2.5-7B-Instruct, Base URL: https://api-inference.modelscope.cn/v1/", "module": "llm_service", "function": "__init__", "line": 44}
{"timestamp": "2025-12-04T16:44:46.728956Z", "level": "INFO", "logger": "app.config", "message": "限流中间件已启用: token_bucket, 速率=100/秒", "module": "main", "function": "<module>", "line": 97}
{"timestamp": "2025-12-04T16:44:46.738160Z", "level": "INFO", "logger": "app.config", "message": "智能旅行助手API已启动", "module": "main", "function": "on_startup", "line": 105}
{"timestamp": "2025-12-04T16:44:53.240504Z", "level": "INFO", "logger": "app.config", "message": "配置加载完成。", "module": "config", "function": "<module>", "line": 86}
{"timestamp": "2025-12-04T16:44:53.252476Z", "level": "INFO", "logger": "app.middleware.degradation", "message": "注册降级策略: default", "module": "degradation", "function": "register_strategy", "line": 111}
{"timestamp": "2025-12-04T16:44:53.253039Z", "level": "INFO", "logger": "app.middleware.degradation", "message": "注册降级策略: trip_plan", "module": "degradation", "function": "register_strategy", "line": 111}
{"timestamp": "2025-12-04T16:44:55.649565Z", "level": "INFO", "logger": "app.config", "message": "LLM服务初始化完成。Provider: modelscope, Model: Qwen/Qwen2.5-7B-Instruct, Base URL: https://api-inference.modelscope.cn/v1/", "module": "llm_service", "function": "__init__", "line": 44}
{"timestamp": "2025-12-04T16:44:57.667870Z", "level": "INFO", "logger": "app.config", "message": "LLM服务初始化完成。Provider: modelscope, Model: Qwen/Qwen2.5-7B-Instruct, Base URL: https://api-inference.modelscope.cn/v1/", "module": "llm_service", "function": "__init__", "line": 44}
{"timestamp": "2025-12-04T16:45:00.444867Z", "level": "INFO", "logger": "app.config", "message": "限流中间件已启用: token_bucket, 速率=100/秒", "module": "main", "function": "<module>", "line": 97}
{"timestamp": "2025-12-04T16:45:00.450880Z", "level": "INFO", "logger": "app.config", "message": "智能旅行助手API已启动", "module": "main", "function": "on_startup", "line": 105}
{"timestamp": "2025-12-04T16:45:02.201858Z", "level": "INFO", "logger": "app.config", "message": "配置加载完成。", "module": "config", "function": "<module>", "line": 86}
{"timestamp": "2025-12-04T16:45:02.208162Z", "level": "INFO", "logger": "app.middleware.degradation", "message": "注册降级策略: default", "module": "degradation", "function": "register_strategy", "line": 111}
{"timestamp": "2025-12-04T16:45:02.208162Z", "level": "INFO", "logger": "app.middleware.degradation", "message": "注册降级策略: trip_plan", "module": "degradation", "function": "register_strategy", "line": 111}
{"timestamp": "2025-12-04T16:45:04.459558Z", "level": "INFO", "logger": "app.config", "message": "LLM服务初始化完成。Provider: modelscope, Model: Qwen/Qwen2.5-7B-Instruct, Base URL: https://api-inference.modelscope.cn/v1/", "module": "llm_service", "function": "__init__", "line": 44}
{"timestamp": "2025-12-04T16:45:06.269954Z", "level": "INFO", "logger": "app.config", "message": "LLM服务初始化完成。Provider: modelscope, Model: Qwen/Qwen2.5-7B-Instruct, Base URL: https://api-inference.modelscope.cn/v1/", "module": "llm_service", "function": "__init__", "line": 44}
{"timestamp": "2025-12-04T16:45:09.036530Z", "level": "INFO", "logger": "app.config", "message": "限流中间件已启用: token_bucket, 速率=100/秒", "module": "main", "function": "<module>", "line": 97}
{"timestamp": "2025-12-04T16:45:09.047057Z", "level": "INFO", "logger": "app.config", "message": "智能旅行助手API已启动", "module": "main", "function": "on_startup", "line": 105}
{"timestamp": "2025-12-04T16:45:14.084886Z", "level": "INFO", "logger": "app.config", "message": "配置加载完成。", "module": "config", "function": "<module>", "line": 86}
{"timestamp": "2025-12-04T16:45:14.092906Z", "level": "INFO", "logger": "app.middleware.degradation", "message": "注册降级策略: default", "module": "degradation", "function": "register_strategy", "line": 111}
{"timestamp": "2025-12-04T16:45:14.094912Z", "level": "INFO", "logger": "app.middleware.degradation", "message": "注册降级策略: trip_plan", "module": "degradation", "function": "register_strategy", "line": 111}
{"timestamp": "2025-12-04T16:45:16.488359Z", "level": "INFO", "logger": "app.config", "message": "LLM服务初始化完成。Provider: modelscope, Model: Qwen/Qwen2.5-7B-Instruct, Base URL: https://api-inference.modelscope.cn/v1/", "module": "llm_service", "function": "__init__", "line": 44}
{"timestamp": "2025-12-04T16:45:18.442251Z", "level": "INFO", "logger": "app.config", "message": "LLM服务初始化完成。Provider: modelscope, Model: Qwen/Qwen2.5-7B-Instruct, Base URL: https://api-inference.modelscope.cn/v1/", "module": "llm_service", "function": "__init__", "line": 44}
{"timestamp": "2025-12-04T16:45:21.230359Z", "level": "INFO", "logger": "app.config", "message": "限流中间件已启用: token_bucket, 速率=100/秒", "module": "main", "function": "<module>", "line": 97}
{"timestamp": "2025-12-04T16:45:21.235423Z", "level": "INFO", "logger": "app.config", "message": "智能旅行助手API已启动", "module": "main", "function": "on_startup", "line": 105}
{"timestamp": "2025-12-04T16:46:11.065693Z", "level": "INFO", "logger": "app.config", "message": "配置加载完成。", "module": "config", "function": "<module>", "line": 86}
{"timestamp": "2025-12-04T16:46:11.072216Z", "level": "INFO", "logger": "app.middleware.degradation", "message": "注册降级策略: default", "module": "degradation", "function": "register_strategy", "line": 111}
{"timestamp": "2025-12-04T16:46:11.073220Z", "level": "INFO", "logger": "app.middleware.degradation", "message": "注册降级策略: trip_plan", "module": "degradation", "function": "register_strategy", "line": 111}
{"timestamp": "2025-12-04T16:46:13.421678Z", "level": "INFO", "logger": "app.config", "message": "LLM服务初始化完成。Provider: modelscope, Model: Qwen/Qwen2.5-7B-Instruct, Base URL: https://api-inference.modelscope.cn/v1/", "module": "llm_service", "function": "__init__", "line": 44}
{"timestamp": "2025-12-04T16:46:15.309120Z", "level": "INFO", "logger": "app.config", "message": "LLM服务初始化完成。Provider: modelscope, Model: Qwen/Qwen2.5-7B-Instruct, Base URL: https://api-inference.modelscope.cn/v1/", "module": "llm_service", "function": "__init__", "line": 44}
{"timestamp": "2025-12-04T16:46:18.047977Z", "level": "INFO", "logger": "app.config", "message": "限流中间件已启用: token_bucket, 速率=100/秒", "module": "main", "function": "<module>", "line": 97}
{"timestamp": "2025-12-04T16:46:18.055997Z", "level": "INFO", "logger": "app.config", "message": "智能旅行助手API已启动", "module": "main", "function": "on_startup", "line": 105}
{"timestamp": "2025-12-04T16:46:19.770552Z", "level": "INFO", "logger": "app.config", "message": "配置加载完成。", "module": "config", "function": "<module>", "line": 86}
{"timestamp": "2025-12-04T16:46:19.776215Z", "level": "INFO", "logger": "app.middleware.degradation", "message": "注册降级策略: default", "module": "degradation", "function": "register_strategy", "line": 111}
{"timestamp": "2025-12-04T16:46:19.776215Z", "level": "INFO", "logger": "app.middleware.degradation", "message": "注册降级策略: trip_plan", "module": "degradation", "function": "register_strategy", "line": 111}
{"timestamp": "2025-12-04T16:46:22.114528Z", "level": "INFO", "logger": "app.config", "message": "LLM服务初始化完成。Provider: modelscope, Model: Qwen/Qwen2.5-7B-Instruct, Base URL: https://api-inference.modelscope.cn/v1/", "module": "llm_service", "function": "__init__", "line": 44}
{"timestamp": "2025-12-04T16:46:24.041307Z", "level": "INFO", "logger": "app.config", "message": "LLM服务初始化完成。Provider: modelscope, Model: Qwen/Qwen2.5-7B-Instruct, Base URL: https://api-inference.modelscope.cn/v1/", "module": "llm_service", "function": "__init__", "line": 44}
{"timestamp": "2025-12-04T16:46:26.897454Z", "level": "INFO", "logger": "app.config", "message": "限流中间件已启用: token_bucket, 速率=100/秒", "module": "main", "function": "<module>", "line": 97}
{"timestamp": "2025-12-04T16:46:26.902690Z", "level": "INFO", "logger": "app.config", "message": "智能旅行助手API已启动", "module": "main", "function": "on_startup", "line": 105}
{"timestamp": "2025-12-04T16:46:36.821272Z", "level": "INFO", "logger": "app.config", "message": "配置加载完成。", "module": "config", "function": "<module>", "line": 86}
{"timestamp": "2025-12-04T16:46:36.837571Z", "level": "INFO", "logger": "app.middleware.degradation", "message": "注册降级策略: default", "module": "degradation", "function": "register_strategy", "line": 111}
{"timestamp": "2025-12-04T16:46:36.837571Z", "level": "INFO", "logger": "app.middleware.degradation", "message": "注册降级策略: trip_plan", "module": "degradation", "function": "register_strategy", "line": 111}
{"timestamp": "2025-12-04T16:46:38.678252Z", "level": "INFO", "logger": "app.config", "message": "LLM服务初始化完成。Provider: modelscope, Model: Qwen/Qwen2.5-7B-Instruct, Base URL: https://api-inference.modelscope.cn/v1/", "module": "llm_service", "function": "__init__", "line": 44}
{"timestamp": "2025-12-04T16:46:40.074867Z", "level": "INFO", "logger": "app.config", "message": "LLM服务初始化完成。Provider: modelscope, Model: Qwen/Qwen2.5-7B-Instruct, Base URL: https://api-inference.modelscope.cn/v1/", "module": "llm_service", "function": "__init__", "line": 44}
{"timestamp": "2025-12-04T16:46:42.534057Z", "level": "INFO", "logger": "app.config", "message": "限流中间件已启用: token_bucket, 速率=100/秒", "module": "main", "function": "<module>", "line": 97}
{"timestamp": "2025-12-04T16:46:42.540618Z", "level": "INFO", "logger": "app.config", "message": "智能旅行助手API已启动", "module": "main", "function": "on_startup", "line": 105}
{"timestamp": "2025-12-04T16:48:21.197121Z", "level": "INFO", "logger": "app.config", "message": "配置加载完成。", "module": "config", "function": "<module>", "line": 86}
{"timestamp": "2025-12-04T16:48:21.201293Z", "level": "INFO", "logger": "app.middleware.degradation", "message": "注册降级策略: default", "module": "degradation", "function": "register_strategy", "line": 111}
{"timestamp": "2025-12-04T16:48:21.201293Z", "level": "INFO", "logger": "app.middleware.degradation", "message": "注册降级策略: trip_plan", "module": "degradation", "function": "register_strategy", "line": 111}
{"timestamp": "2025-12-04T16:48:22.422562Z", "level": "INFO", "logger": "app.config", "message": "LLM服务初始化完成。Provider: modelscope, Model: Qwen/Qwen2.5-7B-Instruct, Base URL: https://api-inference.modelscope.cn/v1/", "module": "llm_service", "function": "__init__", "line": 44}
{"timestamp": "2025-12-04T16:48:23.404470Z", "level": "INFO", "logger": "app.config", "message": "LLM服务初始化完成。Provider: modelscope, Model: Qwen/Qwen2.5-7B-Instruct, Base URL: https://api-inference.modelscope.cn/v1/", "module": "llm_service", "function": "__init__", "line": 44}
{"timestamp": "2025-12-04T16:48:24.967381Z", "level": "INFO", "logger": "app.config", "message": "限流中间件已启用: token_bucket, 速率=100/秒", "module": "main", "function": "<module>", "line": 97}
{"timestamp": "2025-12-04T16:48:24.971965Z", "level": "INFO", "logger": "app.config", "message": "智能旅行助手API已启动", "module": "main", "function": "on_startup", "line": 105}
{"timestamp": "2025-12-04T16:48:33.965746Z", "level": "INFO", "logger": "request", "message": "请求开始: OPTIONS /api/v1/trips/plan", "module": "main", "function": "dispatch", "line": 42, "request_id": "3ca4f92e-1770-4b27-b376-2e04a885a40f", "ip_address": "127.0.0.1"}
{"timestamp": "2025-12-04T16:48:33.966750Z", "level": "INFO", "logger": "request", "message": "请求完成: OPTIONS /api/v1/trips/plan - 200", "module": "main", "function": "dispatch", "line": 59, "request_id": "3ca4f92e-1770-4b27-b376-2e04a885a40f", "ip_address": "127.0.0.1"}
{"timestamp": "2025-12-04T16:48:33.978870Z", "level": "INFO", "logger": "request", "message": "请求开始: POST /api/v1/trips/plan", "module": "main", "function": "dispatch", "line": 42, "request_id": "e95a9fba-2e03-44a5-b769-cba345f31356", "ip_address": "127.0.0.1"}
{"timestamp": "2025-12-04T16:48:33.981884Z", "level": "INFO", "logger": "request", "message": "接收到新的行程规划请求: destination=杭州", "module": "trip", "function": "plan_trip", "line": 32, "request_id": "e95a9fba-2e03-44a5-b769-cba345f31356"}
{"timestamp": "2025-12-04T16:49:42.764339Z", "level": "INFO", "logger": "app.config", "message": "成功生成并验证了行程计划: 杭州自然休闲之旅", "module": "planner", "function": "plan_trip", "line": 346}
{"timestamp": "2025-12-04T16:49:42.764339Z", "level": "INFO", "logger": "request", "message": "成功生成行程计划: 杭州自然休闲之旅", "module": "trip", "function": "plan_trip", "line": 96, "request_id": "e95a9fba-2e03-44a5-b769-cba345f31356"}
{"timestamp": "2025-12-04T16:49:42.765568Z", "level": "INFO", "logger": "request", "message": "请求完成: POST /api/v1/trips/plan - 200", "module": "main", "function": "dispatch", "line": 59, "request_id": "e95a9fba-2e03-44a5-b769-cba345f31356", "ip_address": "127.0.0.1"}
{"timestamp": "2025-12-05T00:59:11.195076", "level": "INFO", "logger": "trip_planner", "message": "智能旅行助手API已启动", "module": "main", "function": "on_startup", "line": 55, "thread": 42288, "process": 27196}
{"timestamp": "2025-12-05T00:59:11.196079", "level": "INFO", "logger": "trip_planner", "message": "已启用功能: 日志系统、请求ID追踪、限流、熔断、降级、异常处理", "module": "main", "function": "on_startup", "line": 56, "thread": 42288, "process": 27196}
{"timestamp": "2025-12-05T00:59:32.836370", "level": "INFO", "logger": "trip_planner", "message": "LLM服务初始化完成。Provider: modelscope, Model: Qwen/Qwen2.5-7B-Instruct, Base URL: https://api-inference.modelscope.cn/v1/", "module": "llm_service", "function": "__init__", "line": 45, "thread": 33528, "process": 7364}
{"timestamp": "2025-12-05T00:59:33.943378", "level": "INFO", "logger": "trip_planner", "message": "LLM服务初始化完成。Provider: modelscope, Model: Qwen/Qwen2.5-7B-Instruct, Base URL: https://api-inference.modelscope.cn/v1/", "module": "llm_service", "function": "__init__", "line": 45, "thread": 33528, "process": 7364}
{"timestamp": "2025-12-05T00:59:35.846268", "level": "INFO", "logger": "trip_planner", "message": "智能旅行助手API已启动", "module": "main", "function": "on_startup", "line": 55, "thread": 33528, "process": 7364}
{"timestamp": "2025-12-05T00:59:35.846268", "level": "INFO", "logger": "trip_planner", "message": "已启用功能: 日志系统、请求ID追踪、限流、熔断、降级、异常处理", "module": "main", "function": "on_startup", "line": 56, "thread": 33528, "process": 7364}
{"timestamp": "2025-12-05T00:59:38.531591", "level": "INFO", "logger": "trip_planner", "message": "LLM服务初始化完成。Provider: modelscope, Model: Qwen/Qwen2.5-7B-Instruct, Base URL: https://api-inference.modelscope.cn/v1/", "module": "llm_service", "function": "__init__", "line": 45, "thread": 20548, "process": 41732}
{"timestamp": "2025-12-05T00:59:39.677533", "level": "INFO", "logger": "trip_planner", "message": "LLM服务初始化完成。Provider: modelscope, Model: Qwen/Qwen2.5-7B-Instruct, Base URL: https://api-inference.modelscope.cn/v1/", "module": "llm_service", "function": "__init__", "line": 45, "thread": 20548, "process": 41732}
{"timestamp": "2025-12-05T00:59:41.702440", "level": "INFO", "logger": "trip_planner", "message": "智能旅行助手API已启动", "module": "main", "function": "on_startup", "line": 55, "thread": 20548, "process": 41732}
{"timestamp": "2025-12-05T00:59:41.703459", "level": "INFO", "logger": "trip_planner", "message": "已启用功能: 日志系统、请求ID追踪、限流、熔断、降级、异常处理", "module": "main", "function": "on_startup", "line": 56, "thread": 20548, "process": 41732}
{"timestamp": "2025-12-05T00:59:44.358994", "level": "INFO", "logger": "trip_planner", "message": "LLM服务初始化完成。Provider: modelscope, Model: Qwen/Qwen2.5-7B-Instruct, Base URL: https://api-inference.modelscope.cn/v1/", "module": "llm_service", "function": "__init__", "line": 45, "thread": 31168, "process": 41700}
{"timestamp": "2025-12-05T00:59:45.524655", "level": "INFO", "logger": "trip_planner", "message": "LLM服务初始化完成。Provider: modelscope, Model: Qwen/Qwen2.5-7B-Instruct, Base URL: https://api-inference.modelscope.cn/v1/", "module": "llm_service", "function": "__init__", "line": 45, "thread": 31168, "process": 41700}
{"timestamp": "2025-12-05T00:59:47.448776", "level": "INFO", "logger": "trip_planner", "message": "智能旅行助手API已启动", "module": "main", "function": "on_startup", "line": 55, "thread": 31168, "process": 41700}
{"timestamp": "2025-12-05T00:59:47.448776", "level": "INFO", "logger": "trip_planner", "message": "已启用功能: 日志系统、请求ID追踪、限流、熔断、降级、异常处理", "module": "main", "function": "on_startup", "line": 56, "thread": 31168, "process": 41700}
{"timestamp": "2025-12-05T00:59:50.219440", "level": "INFO", "logger": "trip_planner", "message": "LLM服务初始化完成。Provider: modelscope, Model: Qwen/Qwen2.5-7B-Instruct, Base URL: https://api-inference.modelscope.cn/v1/", "module": "llm_service", "function": "__init__", "line": 45, "thread": 1924, "process": 34920}
{"timestamp": "2025-12-05T00:59:51.378088", "level": "INFO", "logger": "trip_planner", "message": "LLM服务初始化完成。Provider: modelscope, Model: Qwen/Qwen2.5-7B-Instruct, Base URL: https://api-inference.modelscope.cn/v1/", "module": "llm_service", "function": "__init__", "line": 45, "thread": 1924, "process": 34920}
{"timestamp": "2025-12-05T00:59:53.334395", "level": "INFO", "logger": "trip_planner", "message": "智能旅行助手API已启动", "module": "main", "function": "on_startup", "line": 55, "thread": 1924, "process": 34920}
{"timestamp": "2025-12-05T00:59:53.334395", "level": "INFO", "logger": "trip_planner", "message": "已启用功能: 日志系统、请求ID追踪、限流、熔断、降级、异常处理", "module": "main", "function": "on_startup", "line": 56, "thread": 1924, "process": 34920}
{"timestamp": "2025-12-05T00:59:56.815918", "level": "INFO", "logger": "trip_planner", "message": "LLM服务初始化完成。Provider: modelscope, Model: Qwen/Qwen2.5-7B-Instruct, Base URL: https://api-inference.modelscope.cn/v1/", "module": "llm_service", "function": "__init__", "line": 45, "thread": 40828, "process": 43388}
{"timestamp": "2025-12-05T00:59:57.980593", "level": "INFO", "logger": "trip_planner", "message": "LLM服务初始化完成。Provider: modelscope, Model: Qwen/Qwen2.5-7B-Instruct, Base URL: https://api-inference.modelscope.cn/v1/", "module": "llm_service", "function": "__init__", "line": 45, "thread": 40828, "process": 43388}
{"timestamp": "2025-12-05T01:00:00.022262", "level": "INFO", "logger": "trip_planner", "message": "智能旅行助手API已启动", "module": "main", "function": "on_startup", "line": 55, "thread": 40828, "process": 43388}
{"timestamp": "2025-12-05T01:00:00.022262", "level": "INFO", "logger": "trip_planner", "message": "已启用功能: 日志系统、请求ID追踪、限流、熔断、降级、异常处理", "module": "main", "function": "on_startup", "line": 56, "thread": 40828, "process": 43388}
{"timestamp": "2025-12-05T01:01:39.175090", "level": "INFO", "logger": "trip_planner", "message": "LLM服务初始化完成。Provider: modelscope, Model: Qwen/Qwen2.5-7B-Instruct, Base URL: https://api-inference.modelscope.cn/v1/", "module": "llm_service", "function": "__init__", "line": 45, "thread": 13180, "process": 14540}
{"timestamp": "2025-12-05T01:01:40.186631", "level": "INFO", "logger": "trip_planner", "message": "LLM服务初始化完成。Provider: modelscope, Model: Qwen/Qwen2.5-7B-Instruct, Base URL: https://api-inference.modelscope.cn/v1/", "module": "llm_service", "function": "__init__", "line": 45, "thread": 13180, "process": 14540}
{"timestamp": "2025-12-05T01:01:41.816539", "level": "INFO", "logger": "trip_planner", "message": "智能旅行助手API已启动", "module": "main", "function": "on_startup", "line": 55, "thread": 13180, "process": 14540}
{"timestamp": "2025-12-05T01:01:41.816539", "level": "INFO", "logger": "trip_planner", "message": "已启用功能: 日志系统、请求ID追踪、限流、熔断、降级、异常处理", "module": "main", "function": "on_startup", "line": 56, "thread": 13180, "process": 14540}
{"timestamp": "2025-12-05T01:01:48.472547", "level": "INFO", "logger": "trip_planner", "message": "LLM服务初始化完成。Provider: modelscope, Model: Qwen/Qwen2.5-7B-Instruct, Base URL: https://api-inference.modelscope.cn/v1/", "module": "llm_service", "function": "__init__", "line": 45, "thread": 30176, "process": 35892}
{"timestamp": "2025-12-05T01:01:49.575575", "level": "INFO", "logger": "trip_planner", "message": "LLM服务初始化完成。Provider: modelscope, Model: Qwen/Qwen2.5-7B-Instruct, Base URL: https://api-inference.modelscope.cn/v1/", "module": "llm_service", "function": "__init__", "line": 45, "thread": 30176, "process": 35892}
{"timestamp": "2025-12-05T01:01:51.229779", "level": "INFO", "logger": "trip_planner", "message": "智能旅行助手API已启动", "module": "main", "function": "on_startup", "line": 55, "thread": 30176, "process": 35892}
{"timestamp": "2025-12-05T01:01:51.231114", "level": "INFO", "logger": "trip_planner", "message": "已启用功能: 日志系统、请求ID追踪、限流、熔断、降级、异常处理", "module": "main", "function": "on_startup", "line": 56, "thread": 30176, "process": 35892}
{"timestamp": "2025-12-05T10:11:05.684966", "level": "INFO", "logger": "trip_planner", "message": "LLM服务初始化完成。Provider: modelscope, Model: Qwen/Qwen2.5-7B-Instruct, Base URL: https://api-inference.modelscope.cn/v1/", "module": "llm_service", "function": "__init__", "line": 45, "thread": 36772, "process": 23528}
{"timestamp": "2025-12-05T10:11:06.536879", "level": "INFO", "logger": "trip_planner", "message": "LLM服务初始化完成。Provider: modelscope, Model: Qwen/Qwen2.5-7B-Instruct, Base URL: https://api-inference.modelscope.cn/v1/", "module": "llm_service", "function": "__init__", "line": 45, "thread": 36772, "process": 23528}
{"timestamp": "2025-12-05T10:11:12.333083", "level": "INFO", "logger": "trip_planner", "message": "智能旅行助手API已启动", "module": "main", "function": "on_startup", "line": 55, "thread": 36772, "process": 23528}
{"timestamp": "2025-12-05T10:11:12.334086", "level": "INFO", "logger": "trip_planner", "message": "已启用功能: 日志系统、请求ID追踪、限流、熔断、降级、异常处理", "module": "main", "function": "on_startup", "line": 56, "thread": 36772, "process": 23528}
{"timestamp": "2025-12-05T10:11:15.689357", "level": "INFO", "logger": "trip_planner", "message": "LLM服务初始化完成。Provider: modelscope, Model: Qwen/Qwen2.5-7B-Instruct, Base URL: https://api-inference.modelscope.cn/v1/", "module": "llm_service", "function": "__init__", "line": 45, "thread": 37220, "process": 41820}
{"timestamp": "2025-12-05T10:11:16.698601", "level": "INFO", "logger": "trip_planner", "message": "LLM服务初始化完成。Provider: modelscope, Model: Qwen/Qwen2.5-7B-Instruct, Base URL: https://api-inference.modelscope.cn/v1/", "module": "llm_service", "function": "__init__", "line": 45, "thread": 37220, "process": 41820}
{"timestamp": "2025-12-05T10:11:19.640218", "level": "INFO", "logger": "trip_planner", "message": "智能旅行助手API已启动", "module": "main", "function": "on_startup", "line": 55, "thread": 37220, "process": 41820}
{"timestamp": "2025-12-05T10:11:19.641220", "level": "INFO", "logger": "trip_planner", "message": "已启用功能: 日志系统、请求ID追踪、限流、熔断、降级、异常处理", "module": "main", "function": "on_startup", "line": 56, "thread": 37220, "process": 41820}
{"timestamp": "2025-12-05T10:11:23.522642", "level": "INFO", "logger": "trip_planner", "message": "LLM服务初始化完成。Provider: modelscope, Model: Qwen/Qwen2.5-7B-Instruct, Base URL: https://api-inference.modelscope.cn/v1/", "module": "llm_service", "function": "__init__", "line": 45, "thread": 39932, "process": 36908}
{"timestamp": "2025-12-05T10:11:24.641227", "level": "INFO", "logger": "trip_planner", "message": "LLM服务初始化完成。Provider: modelscope, Model: Qwen/Qwen2.5-7B-Instruct, Base URL: https://api-inference.modelscope.cn/v1/", "module": "llm_service", "function": "__init__", "line": 45, "thread": 39932, "process": 36908}
{"timestamp": "2025-12-05T10:11:27.523936", "level": "INFO", "logger": "trip_planner", "message": "智能旅行助手API已启动", "module": "main", "function": "on_startup", "line": 55, "thread": 39932, "process": 36908}
{"timestamp": "2025-12-05T10:11:27.524968", "level": "INFO", "logger": "trip_planner", "message": "已启用功能: 日志系统、请求ID追踪、限流、熔断、降级、异常处理", "module": "main", "function": "on_startup", "line": 56, "thread": 39932, "process": 36908}
{"timestamp": "2025-12-05T10:12:04.727251", "level": "INFO", "logger": "trip_planner", "message": "LLM服务初始化完成。Provider: modelscope, Model: Qwen/Qwen2.5-7B-Instruct, Base URL: https://api-inference.modelscope.cn/v1/", "module": "llm_service", "function": "__init__", "line": 45, "thread": 39204, "process": 38096}
{"timestamp": "2025-12-05T10:12:05.807627", "level": "INFO", "logger": "trip_planner", "message": "LLM服务初始化完成。Provider: modelscope, Model: Qwen/Qwen2.5-7B-Instruct, Base URL: https://api-inference.modelscope.cn/v1/", "module": "llm_service", "function": "__init__", "line": 45, "thread": 39204, "process": 38096}
{"timestamp": "2025-12-05T10:12:08.690611", "level": "INFO", "logger": "trip_planner", "message": "智能旅行助手API已启动", "module": "main", "function": "on_startup", "line": 55, "thread": 39204, "process": 38096}
{"timestamp": "2025-12-05T10:12:08.691616", "level": "INFO", "logger": "trip_planner", "message": "已启用功能: 日志系统、请求ID追踪、限流、熔断、降级、异常处理", "module": "main", "function": "on_startup", "line": 56, "thread": 39204, "process": 38096}
{"timestamp": "2025-12-05T10:13:54.105867", "level": "INFO", "logger": "trip_planner", "message": "LLM服务初始化完成。Provider: modelscope, Model: Qwen/Qwen2.5-7B-Instruct, Base URL: https://api-inference.modelscope.cn/v1/", "module": "llm_service", "function": "__init__", "line": 45, "thread": 8392, "process": 30364}
{"timestamp": "2025-12-05T10:13:56.051852", "level": "INFO", "logger": "trip_planner", "message": "LLM服务初始化完成。Provider: modelscope, Model: Qwen/Qwen2.5-7B-Instruct, Base URL: https://api-inference.modelscope.cn/v1/", "module": "llm_service", "function": "__init__", "line": 45, "thread": 8392, "process": 30364}
{"timestamp": "2025-12-05T10:13:58.902056", "level": "INFO", "logger": "trip_planner", "message": "智能旅行助手API已启动", "module": "main", "function": "on_startup", "line": 55, "thread": 8392, "process": 30364}
{"timestamp": "2025-12-05T10:13:58.902056", "level": "INFO", "logger": "trip_planner", "message": "已启用功能: 日志系统、请求ID追踪、限流、熔断、降级、异常处理", "module": "main", "function": "on_startup", "line": 56, "thread": 8392, "process": 30364}
{"timestamp": "2025-12-05T10:16:19.013648", "level": "INFO", "logger": "trip_planner", "message": "LLM服务初始化完成。Provider: modelscope, Model: Qwen/Qwen2.5-7B-Instruct, Base URL: https://api-inference.modelscope.cn/v1/", "module": "llm_service", "function": "__init__", "line": 45, "thread": 32340, "process": 14156}
{"timestamp": "2025-12-05T10:16:20.969809", "level": "INFO", "logger": "trip_planner", "message": "LLM服务初始化完成。Provider: modelscope, Model: Qwen/Qwen2.5-7B-Instruct, Base URL: https://api-inference.modelscope.cn/v1/", "module": "llm_service", "function": "__init__", "line": 45, "thread": 32340, "process": 14156}
{"timestamp": "2025-12-05T10:16:23.774442", "level": "INFO", "logger": "trip_planner", "message": "智能旅行助手API已启动", "module": "main", "function": "on_startup", "line": 55, "thread": 32340, "process": 14156}
{"timestamp": "2025-12-05T10:16:23.774442", "level": "INFO", "logger": "trip_planner", "message": "已启用功能: 日志系统、请求ID追踪、限流、熔断、降级、异常处理", "module": "main", "function": "on_startup", "line": 56, "thread": 32340, "process": 14156}
{"timestamp": "2025-12-05T10:16:31.181610", "level": "INFO", "logger": "trip_planner", "message": "LLM服务初始化完成。Provider: modelscope, Model: Qwen/Qwen2.5-7B-Instruct, Base URL: https://api-inference.modelscope.cn/v1/", "module": "llm_service", "function": "__init__", "line": 45, "thread": 40272, "process": 14108}
{"timestamp": "2025-12-05T10:16:46.002038", "level": "INFO", "logger": "trip_planner", "message": "LLM服务初始化完成。Provider: modelscope, Model: Qwen/Qwen2.5-7B-Instruct, Base URL: https://api-inference.modelscope.cn/v1/", "module": "llm_service", "function": "__init__", "line": 45, "thread": 34992, "process": 26052}
{"timestamp": "2025-12-05T10:17:21.043059", "level": "INFO", "logger": "trip_planner", "message": "LLM服务初始化完成。Provider: modelscope, Model: Qwen/Qwen2.5-7B-Instruct, Base URL: https://api-inference.modelscope.cn/v1/", "module": "llm_service", "function": "__init__", "line": 45, "thread": 23048, "process": 2868}
{"timestamp": "2025-12-05T10:17:48.929270", "level": "INFO", "logger": "trip_planner", "message": "LLM服务初始化完成。Provider: modelscope, Model: Qwen/Qwen2.5-7B-Instruct, Base URL: https://api-inference.modelscope.cn/v1/", "module": "llm_service", "function": "__init__", "line": 45, "thread": 43208, "process": 33688}
{"timestamp": "2025-12-05T10:18:22.969221", "level": "INFO", "logger": "trip_planner", "message": "LLM服务初始化完成。Provider: modelscope, Model: Qwen/Qwen2.5-7B-Instruct, Base URL: https://api-inference.modelscope.cn/v1/", "module": "llm_service", "function": "__init__", "line": 45, "thread": 23828, "process": 27424}
{"timestamp": "2025-12-05T10:19:41.362737", "level": "INFO", "logger": "trip_planner", "message": "LLM服务初始化完成。Provider: modelscope, Model: Qwen/Qwen2.5-7B-Instruct, Base URL: https://api-inference.modelscope.cn/v1/", "module": "llm_service", "function": "__init__", "line": 45, "thread": 29212, "process": 36692}
{"timestamp": "2025-12-05T10:20:03.332753", "level": "INFO", "logger": "trip_planner", "message": "LLM服务初始化完成。Provider: modelscope, Model: Qwen/Qwen2.5-7B-Instruct, Base URL: https://api-inference.modelscope.cn/v1/", "module": "llm_service", "function": "__init__", "line": 45, "thread": 28184, "process": 2208}
{"timestamp": "2025-12-05T10:20:14.908851", "level": "INFO", "logger": "trip_planner", "message": "LLM服务初始化完成。Provider: modelscope, Model: Qwen/Qwen2.5-7B-Instruct, Base URL: https://api-inference.modelscope.cn/v1/", "module": "llm_service", "function": "__init__", "line": 45, "thread": 25688, "process": 12140}
{"timestamp": "2025-12-05T10:22:14.382415", "level": "INFO", "logger": "trip_planner", "message": "LLM服务初始化完成。Provider: modelscope, Model: Qwen/Qwen2.5-7B-Instruct, Base URL: https://api-inference.modelscope.cn/v1/", "module": "llm_service", "function": "__init__", "line": 45, "thread": 28288, "process": 1280}
{"timestamp": "2025-12-05T10:22:14.470542", "level": "INFO", "logger": "trip_planner", "message": "记忆服务初始化完成", "module": "memory_service", "function": "__init__", "line": 38, "thread": 28288, "process": 1280}
{"timestamp": "2025-12-05T10:22:25.671769", "level": "INFO", "logger": "trip_planner", "message": "LLM服务初始化完成。Provider: modelscope, Model: Qwen/Qwen2.5-7B-Instruct, Base URL: https://api-inference.modelscope.cn/v1/", "module": "llm_service", "function": "__init__", "line": 45, "thread": 38852, "process": 36920}
{"timestamp": "2025-12-05T10:22:25.753317", "level": "INFO", "logger": "trip_planner", "message": "记忆服务初始化完成", "module": "memory_service", "function": "__init__", "line": 38, "thread": 38852, "process": 36920}
{"timestamp": "2025-12-05T10:22:25.761324", "level": "INFO", "logger": "trip_planner", "message": "智能体通信中心初始化完成", "module": "agent_communication", "function": "__init__", "line": 74, "thread": 38852, "process": 36920}
{"timestamp": "2025-12-05T10:22:28.576044", "level": "INFO", "logger": "trip_planner", "message": "LLM服务初始化完成。Provider: modelscope, Model: Qwen/Qwen2.5-7B-Instruct, Base URL: https://api-inference.modelscope.cn/v1/", "module": "llm_service", "function": "__init__", "line": 45, "thread": 42464, "process": 34952}
{"timestamp": "2025-12-05T10:22:28.644361", "level": "INFO", "logger": "trip_planner", "message": "记忆服务初始化完成", "module": "memory_service", "function": "__init__", "line": 38, "thread": 42464, "process": 34952}
{"timestamp": "2025-12-05T10:22:28.647881", "level": "INFO", "logger": "trip_planner", "message": "智能体通信中心初始化完成", "module": "agent_communication", "function": "__init__", "line": 74, "thread": 42464, "process": 34952}
{"timestamp": "2025-12-05T10:22:29.723044", "level": "INFO", "logger": "trip_planner", "message": "LLM服务初始化完成。Provider: modelscope, Model: Qwen/Qwen2.5-7B-Instruct, Base URL: https://api-inference.modelscope.cn/v1/", "module": "llm_service", "function": "__init__", "line": 45, "thread": 42464, "process": 34952}
{"timestamp": "2025-12-05T10:22:34.480425", "level": "INFO", "logger": "trip_planner", "message": "✅ 多智能体系统初始化完成（增强版）", "module": "planner", "function": "__init__", "line": 47, "thread": 42464, "process": 34952}
{"timestamp": "2025-12-05T10:22:34.494709", "level": "INFO", "logger": "trip_planner", "message": "智能旅行助手API已启动", "module": "main", "function": "on_startup", "line": 55, "thread": 42464, "process": 34952}
{"timestamp": "2025-12-05T10:22:34.494709", "level": "INFO", "logger": "trip_planner", "message": "已启用功能: 日志系统、请求ID追踪、限流、熔断、降级、异常处理", "module": "main", "function": "on_startup", "line": 56, "thread": 42464, "process": 34952}
{"timestamp": "2025-12-05T10:22:37.323378", "level": "INFO", "logger": "trip_planner", "message": "LLM服务初始化完成。Provider: modelscope, Model: Qwen/Qwen2.5-7B-Instruct, Base URL: https://api-inference.modelscope.cn/v1/", "module": "llm_service", "function": "__init__", "line": 45, "thread": 27736, "process": 38792}
{"timestamp": "2025-12-05T10:22:37.394116", "level": "INFO", "logger": "trip_planner", "message": "记忆服务初始化完成", "module": "memory_service", "function": "__init__", "line": 38, "thread": 27736, "process": 38792}
{"timestamp": "2025-12-05T10:22:37.397124", "level": "INFO", "logger": "trip_planner", "message": "智能体通信中心初始化完成", "module": "agent_communication", "function": "__init__", "line": 74, "thread": 27736, "process": 38792}
{"timestamp": "2025-12-05T10:22:38.400127", "level": "INFO", "logger": "trip_planner", "message": "LLM服务初始化完成。Provider: modelscope, Model: Qwen/Qwen2.5-7B-Instruct, Base URL: https://api-inference.modelscope.cn/v1/", "module": "llm_service", "function": "__init__", "line": 45, "thread": 27736, "process": 38792}
{"timestamp": "2025-12-05T10:22:40.367362", "level": "INFO", "logger": "trip_planner", "message": "✅ 多智能体系统初始化完成（增强版）", "module": "planner", "function": "__init__", "line": 47, "thread": 27736, "process": 38792}
{"timestamp": "2025-12-05T10:22:40.376932", "level": "INFO", "logger": "trip_planner", "message": "智能旅行助手API已启动", "module": "main", "function": "on_startup", "line": 55, "thread": 27736, "process": 38792}
{"timestamp": "2025-12-05T10:22:40.376932", "level": "INFO", "logger": "trip_planner", "message": "已启用功能: 日志系统、请求ID追踪、限流、熔断、降级、异常处理", "module": "main", "function": "on_startup", "line": 56, "thread": 27736, "process": 38792}
{"timestamp": "2025-12-05T10:22:42.911637", "level": "INFO", "logger": "trip_planner", "message": "LLM服务初始化完成。Provider: modelscope, Model: Qwen/Qwen2.5-7B-Instruct, Base URL: https://api-inference.modelscope.cn/v1/", "module": "llm_service", "function": "__init__", "line": 45, "thread": 23768, "process": 38704}
{"timestamp": "2025-12-05T10:22:42.986120", "level": "INFO", "logger": "trip_planner", "message": "记忆服务初始化完成", "module": "memory_service", "function": "__init__", "line": 38, "thread": 23768, "process": 38704}
{"timestamp": "2025-12-05T10:22:42.990133", "level": "INFO", "logger": "trip_planner", "message": "智能体通信中心初始化完成", "module": "agent_communication", "function": "__init__", "line": 74, "thread": 23768, "process": 38704}
{"timestamp": "2025-12-05T10:22:44.033401", "level": "INFO", "logger": "trip_planner", "message": "LLM服务初始化完成。Provider: modelscope, Model: Qwen/Qwen2.5-7B-Instruct, Base URL: https://api-inference.modelscope.cn/v1/", "module": "llm_service", "function": "__init__", "line": 45, "thread": 23768, "process": 38704}
{"timestamp": "2025-12-05T10:22:45.960641", "level": "INFO", "logger": "trip_planner", "message": "✅ 多智能体系统初始化完成（增强版）", "module": "planner", "function": "__init__", "line": 47, "thread": 23768, "process": 38704}
{"timestamp": "2025-12-05T10:22:45.969143", "level": "INFO", "logger": "trip_planner", "message": "智能旅行助手API已启动", "module": "main", "function": "on_startup", "line": 55, "thread": 23768, "process": 38704}
{"timestamp": "2025-12-05T10:22:45.969143", "level": "INFO", "logger": "trip_planner", "message": "已启用功能: 日志系统、请求ID追踪、限流、熔断、降级、异常处理", "module": "main", "function": "on_startup", "line": 56, "thread": 23768, "process": 38704}
{"timestamp": "2025-12-05T10:22:50.738762", "level": "INFO", "logger": "trip_planner", "message": "LLM服务初始化完成。Provider: modelscope, Model: Qwen/Qwen2.5-7B-Instruct, Base URL: https://api-inference.modelscope.cn/v1/", "module": "llm_service", "function": "__init__", "line": 45, "thread": 28020, "process": 27904}
{"timestamp": "2025-12-05T10:22:50.821254", "level": "INFO", "logger": "trip_planner", "message": "记忆服务初始化完成", "module": "memory_service", "function": "__init__", "line": 38, "thread": 28020, "process": 27904}
{"timestamp": "2025-12-05T10:22:50.829093", "level": "INFO", "logger": "trip_planner", "message": "智能体通信中心初始化完成", "module": "agent_communication", "function": "__init__", "line": 74, "thread": 28020, "process": 27904}
{"timestamp": "2025-12-05T10:22:51.881571", "level": "INFO", "logger": "trip_planner", "message": "LLM服务初始化完成。Provider: modelscope, Model: Qwen/Qwen2.5-7B-Instruct, Base URL: https://api-inference.modelscope.cn/v1/", "module": "llm_service", "function": "__init__", "line": 45, "thread": 28020, "process": 27904}
{"timestamp": "2025-12-05T10:22:53.792618", "level": "INFO", "logger": "trip_planner", "message": "✅ 多智能体系统初始化完成（增强版）", "module": "planner", "function": "__init__", "line": 47, "thread": 28020, "process": 27904}
{"timestamp": "2025-12-05T10:22:53.806061", "level": "INFO", "logger": "trip_planner", "message": "智能旅行助手API已启动", "module": "main", "function": "on_startup", "line": 55, "thread": 28020, "process": 27904}
{"timestamp": "2025-12-05T10:22:53.807223", "level": "INFO", "logger": "trip_planner", "message": "已启用功能: 日志系统、请求ID追踪、限流、熔断、降级、异常处理", "module": "main", "function": "on_startup", "line": 56, "thread": 28020, "process": 27904}
{"timestamp": "2025-12-05T10:23:06.595886", "level": "INFO", "logger": "trip_planner", "message": "LLM服务初始化完成。Provider: modelscope, Model: Qwen/Qwen2.5-7B-Instruct, Base URL: https://api-inference.modelscope.cn/v1/", "module": "llm_service", "function": "__init__", "line": 45, "thread": 40720, "process": 3416}
{"timestamp": "2025-12-05T10:23:06.666579", "level": "INFO", "logger": "trip_planner", "message": "记忆服务初始化完成", "module": "memory_service", "function": "__init__", "line": 38, "thread": 40720, "process": 3416}
{"timestamp": "2025-12-05T10:23:06.674075", "level": "INFO", "logger": "trip_planner", "message": "智能体通信中心初始化完成", "module": "agent_communication", "function": "__init__", "line": 74, "thread": 40720, "process": 3416}
{"timestamp": "2025-12-05T10:23:07.618896", "level": "INFO", "logger": "trip_planner", "message": "LLM服务初始化完成。Provider: modelscope, Model: Qwen/Qwen2.5-7B-Instruct, Base URL: https://api-inference.modelscope.cn/v1/", "module": "llm_service", "function": "__init__", "line": 45, "thread": 40720, "process": 3416}
{"timestamp": "2025-12-05T10:23:09.102789", "level": "INFO", "logger": "trip_planner", "message": "✅ 多智能体系统初始化完成（增强版）", "module": "planner", "function": "__init__", "line": 47, "thread": 40720, "process": 3416}
{"timestamp": "2025-12-05T10:23:09.114455", "level": "INFO", "logger": "trip_planner", "message": "智能旅行助手API已启动", "module": "main", "function": "on_startup", "line": 55, "thread": 40720, "process": 3416}
{"timestamp": "2025-12-05T10:23:09.114455", "level": "INFO", "logger": "trip_planner", "message": "已启用功能: 日志系统、请求ID追踪、限流、熔断、降级、异常处理", "module": "main", "function": "on_startup", "line": 56, "thread": 40720, "process": 3416}
{"timestamp": "2025-12-05T10:23:13.997864", "level": "INFO", "logger": "trip_planner", "message": "LLM服务初始化完成。Provider: modelscope, Model: Qwen/Qwen2.5-7B-Instruct, Base URL: https://api-inference.modelscope.cn/v1/", "module": "llm_service", "function": "__init__", "line": 45, "thread": 21476, "process": 43584}
{"timestamp": "2025-12-05T10:23:14.066973", "level": "INFO", "logger": "trip_planner", "message": "记忆服务初始化完成", "module": "memory_service", "function": "__init__", "line": 38, "thread": 21476, "process": 43584}
{"timestamp": "2025-12-05T10:23:14.072161", "level": "INFO", "logger": "trip_planner", "message": "智能体通信中心初始化完成", "module": "agent_communication", "function": "__init__", "line": 74, "thread": 21476, "process": 43584}
{"timestamp": "2025-12-05T10:23:15.106448", "level": "INFO", "logger": "trip_planner", "message": "LLM服务初始化完成。Provider: modelscope, Model: Qwen/Qwen2.5-7B-Instruct, Base URL: https://api-inference.modelscope.cn/v1/", "module": "llm_service", "function": "__init__", "line": 45, "thread": 21476, "process": 43584}
{"timestamp": "2025-12-05T10:23:16.689371", "level": "INFO", "logger": "trip_planner", "message": "✅ 多智能体系统初始化完成（增强版）", "module": "planner", "function": "__init__", "line": 47, "thread": 21476, "process": 43584}
{"timestamp": "2025-12-05T10:23:16.697963", "level": "INFO", "logger": "trip_planner", "message": "智能旅行助手API已启动", "module": "main", "function": "on_startup", "line": 55, "thread": 21476, "process": 43584}
{"timestamp": "2025-12-05T10:23:16.697963", "level": "INFO", "logger": "trip_planner", "message": "已启用功能: 日志系统、请求ID追踪、限流、熔断、降级、异常处理", "module": "main", "function": "on_startup", "line": 56, "thread": 21476, "process": 43584}
{"timestamp": "2025-12-05T10:23:32.089795", "level": "INFO", "logger": "trip_planner", "message": "接收到新的行程规划请求（增强版）", "module": "trip", "function": "plan_trip", "line": 38, "request_id": "a9ee4b5c-c376-4ef0-8800-087dd318c622", "thread": 43880, "process": 43584}
{"timestamp": "2025-12-05T10:23:32.090797", "level": "INFO", "logger": "trip_planner", "message": "上下文管理器初始化 - RequestID: a9ee4b5c-c376-4ef0-8800-087dd318c622", "module": "context_manager", "function": "__init__", "line": 33, "request_id": "a9ee4b5c-c376-4ef0-8800-087dd318c622", "thread": 43880, "process": 43584}
{"timestamp": "2025-12-05T10:23:32.091841", "level": "INFO", "logger": "trip_planner", "message": "创建增强智能体...", "module": "planner", "function": "plan_trip", "line": 152, "request_id": "a9ee4b5c-c376-4ef0-8800-087dd318c622", "thread": 43880, "process": 43584}
{"timestamp": "2025-12-05T10:23:32.091841", "level": "INFO", "logger": "trip_planner", "message": "智能体已注册 - Name: 景点搜索专家", "module": "agent_communication", "function": "register_agent", "line": 86, "request_id": "a9ee4b5c-c376-4ef0-8800-087dd318c622", "thread": 43880, "process": 43584}
{"timestamp": "2025-12-05T10:23:32.092843", "level": "INFO", "logger": "trip_planner", "message": "✅ 景点搜索专家 增强智能体初始化完成，工具调用: 启用", "module": "enhanced_agent", "function": "__init__", "line": 75, "request_id": "a9ee4b5c-c376-4ef0-8800-087dd318c622", "thread": 43880, "process": 43584}
{"timestamp": "2025-12-05T10:23:32.092843", "level": "INFO", "logger": "trip_planner", "message": "智能体已注册 - Name: 酒店推荐专家", "module": "agent_communication", "function": "register_agent", "line": 86, "request_id": "a9ee4b5c-c376-4ef0-8800-087dd318c622", "thread": 43880, "process": 43584}
{"timestamp": "2025-12-05T10:23:32.092843", "level": "INFO", "logger": "trip_planner", "message": "✅ 酒店推荐专家 增强智能体初始化完成，工具调用: 启用", "module": "enhanced_agent", "function": "__init__", "line": 75, "request_id": "a9ee4b5c-c376-4ef0-8800-087dd318c622", "thread": 43880, "process": 43584}
{"timestamp": "2025-12-05T10:23:32.094265", "level": "INFO", "logger": "trip_planner", "message": "智能体已注册 - Name: 天气查询专家", "module": "agent_communication", "function": "register_agent", "line": 86, "request_id": "a9ee4b5c-c376-4ef0-8800-087dd318c622", "thread": 43880, "process": 43584}
{"timestamp": "2025-12-05T10:23:32.094265", "level": "INFO", "logger": "trip_planner", "message": "✅ 天气查询专家 增强智能体初始化完成，工具调用: 启用", "module": "enhanced_agent", "function": "__init__", "line": 75, "request_id": "a9ee4b5c-c376-4ef0-8800-087dd318c622", "thread": 43880, "process": 43584}
{"timestamp": "2025-12-05T10:23:32.095473", "level": "INFO", "logger": "trip_planner", "message": "智能体已注册 - Name: 行程规划专家", "module": "agent_communication", "function": "register_agent", "line": 86, "request_id": "a9ee4b5c-c376-4ef0-8800-087dd318c622", "thread": 43880, "process": 43584}
{"timestamp": "2025-12-05T10:23:32.095473", "level": "INFO", "logger": "trip_planner", "message": "✅ 行程规划专家 增强智能体初始化完成，工具调用: 禁用", "module": "enhanced_agent", "function": "__init__", "line": 75, "request_id": "a9ee4b5c-c376-4ef0-8800-087dd318c622", "thread": 43880, "process": 43584}
{"timestamp": "2025-12-05T10:23:32.096606", "level": "INFO", "logger": "trip_planner", "message": "开始景点搜索...", "module": "planner", "function": "plan_trip", "line": 188, "request_id": "a9ee4b5c-c376-4ef0-8800-087dd318c622", "thread": 43880, "process": 43584}
{"timestamp": "2025-12-05T10:23:32.096606", "level": "INFO", "logger": "trip_planner", "message": "🤖 景点搜索专家 正在处理: 请使用amap_maps_text_search工具搜索杭州的自然相关景点。\n[TOOL_CALL:amap_maps_text_search:keywords=自然,city=杭州]...", "module": "enhanced_agent", "function": "run", "line": 153, "request_id": "a9ee4b5c-c376-4ef0-8800-087dd318c622", "thread": 43880, "process": 43584}
{"timestamp": "2025-12-05T10:23:39.633817", "level": "INFO", "logger": "trip_planner", "message": "✅ 景点搜索专家 响应完成", "module": "enhanced_agent", "function": "_run_with_tools", "line": 272, "request_id": "a9ee4b5c-c376-4ef0-8800-087dd318c622", "thread": 43880, "process": 43584}
{"timestamp": "2025-12-05T10:23:39.634831", "level": "INFO", "logger": "trip_planner", "message": "酒店推荐专家 收到景点信息，将优化酒店推荐", "module": "specialized_agents", "function": "handle_message", "line": 305, "request_id": "a9ee4b5c-c376-4ef0-8800-087dd318c622", "thread": 43880, "process": 43584}
{"timestamp": "2025-12-05T10:23:39.634831", "level": "INFO", "logger": "trip_planner", "message": "景点搜索完成: 好的，我已使用高德地图服务搜索了杭州的自然相关景点。以下是搜索结果：\n\n1. 杭州西湖 - 位于杭州市中心，是中国著名的风景旅游胜地之一，以其秀丽的湖光山色和众多的名胜古迹而闻名中外。\n2. 西溪国家湿地公园 - 是中国第一个也是最大的国家湿地公园，以“河港、田地、桑地”三种湿地景观为主体，以九溪十八涧为脉络。\n3. 灵隐寺 - 位于杭州西湖南线灵隐路，是一座有着1700多年历史的佛教寺庙，环境清...", "module": "planner", "function": "plan_trip", "line": 191, "request_id": "a9ee4b5c-c376-4ef0-8800-087dd318c622", "thread": 43880, "process": 43584}
{"timestamp": "2025-12-05T10:23:39.635835", "level": "INFO", "logger": "trip_planner", "message": "开始酒店推荐...", "module": "planner", "function": "plan_trip", "line": 194, "request_id": "a9ee4b5c-c376-4ef0-8800-087dd318c622", "thread": 43880, "process": 43584}
{"timestamp": "2025-12-05T10:23:39.635835", "level": "INFO", "logger": "trip_planner", "message": "🤖 酒店推荐专家 正在处理: 请使用amap_maps_text_search工具搜索杭州的酒店。请确保返回的酒店信息详细且准确。\n[TOOL_CALL:amap_maps_text_search:keywords=酒店,city...", "module": "enhanced_agent", "function": "run", "line": 153, "request_id": "a9ee4b5c-c376-4ef0-8800-087dd318c622", "thread": 43880, "process": 43584}
{"timestamp": "2025-12-05T10:23:41.450663", "level": "INFO", "logger": "trip_planner", "message": "✅ 酒店推荐专家 响应完成", "module": "enhanced_agent", "function": "_run_with_tools", "line": 272, "request_id": "a9ee4b5c-c376-4ef0-8800-087dd318c622", "thread": 43880, "process": 43584}
{"timestamp": "2025-12-05T10:23:41.451668", "level": "INFO", "logger": "trip_planner", "message": "酒店推荐完成: [ TOOL_CALL:amap_maps_text_search:keywords=经济型酒店,city=杭州 ] \n[ TOOL_CALL:amap_maps_text_search:keywords=民宿,city=杭州 ]\n\n接下来我会结合您提到的景点位置信息进行筛选，推荐距离这些景点较近的酒店。...", "module": "planner", "function": "plan_trip", "line": 197, "request_id": "a9ee4b5c-c376-4ef0-8800-087dd318c622", "thread": 43880, "process": 43584}
{"timestamp": "2025-12-05T10:23:41.451668", "level": "INFO", "logger": "trip_planner", "message": "开始天气查询...", "module": "planner", "function": "plan_trip", "line": 200, "request_id": "a9ee4b5c-c376-4ef0-8800-087dd318c622", "thread": 43880, "process": 43584}
{"timestamp": "2025-12-05T10:23:41.453013", "level": "INFO", "logger": "trip_planner", "message": "🤖 天气查询专家 正在处理: 请查询杭州的天气信息，日期范围：2025-12-12 到 2025-12-13，查询日期范围：2025-12-12 到 2025-12-13...", "module": "enhanced_agent", "function": "run", "line": 153, "request_id": "a9ee4b5c-c376-4ef0-8800-087dd318c622", "thread": 43880, "process": 43584}
{"timestamp": "2025-12-05T10:23:46.384660", "level": "INFO", "logger": "trip_planner", "message": "✅ 天气查询专家 响应完成", "module": "enhanced_agent", "function": "_run_with_tools", "line": 272, "request_id": "a9ee4b5c-c376-4ef0-8800-087dd318c622", "thread": 43880, "process": 43584}
{"timestamp": "2025-12-05T10:23:46.386014", "level": "INFO", "logger": "trip_planner", "message": "天气查询完成: 根据查询，2025年12月12日至2025年12月13日杭州的天气情况如下：\n\n2025-12-12：\n- 白天：多云，最高温度约为10°C\n- 夜间：阴转小雨，最低温度约为6°C\n\n2025-12-13：\n- 白天：小雨，最高温度约为8°C\n- 夜间：阴，最低温度约为4°C\n\n请注意，由于这些是虚构的日期，实际天气情况可能会有所不同。建议出行前再次确认最新的天气预报。...", "module": "planner", "function": "plan_trip", "line": 203, "request_id": "a9ee4b5c-c376-4ef0-8800-087dd318c622", "thread": 43880, "process": 43584}
{"timestamp": "2025-12-05T10:23:46.386014", "level": "INFO", "logger": "trip_planner", "message": "开始行程规划...", "module": "planner", "function": "plan_trip", "line": 206, "request_id": "a9ee4b5c-c376-4ef0-8800-087dd318c622", "thread": 43880, "process": 43584}
{"timestamp": "2025-12-05T10:23:46.388025", "level": "INFO", "logger": "trip_planner", "message": "🤖 行程规划专家 正在处理: \n        请为我创建一个前往 杭州 的旅行计划。\n\n        **基本信息:**\n        - 旅行天数: 2 天 (从 2025-12-12 到 2025-12-13)\n    ...", "module": "enhanced_agent", "function": "run", "line": 153, "request_id": "a9ee4b5c-c376-4ef0-8800-087dd318c622", "thread": 43880, "process": 43584}
{"timestamp": "2025-12-05T10:24:24.598164", "level": "INFO", "logger": "trip_planner", "message": "✅ 行程规划专家 响应完成", "module": "enhanced_agent", "function": "run", "line": 191, "request_id": "a9ee4b5c-c376-4ef0-8800-087dd318c622", "thread": 43880, "process": 43584}
{"timestamp": "2025-12-05T10:24:24.599664", "level": "INFO", "logger": "trip_planner", "message": "已存储用户偏好 - UserID: a9ee4b5c-c376-4ef0-8800-087dd318c622, Type: trip_planning", "module": "memory_service", "function": "store_user_preference", "line": 118, "request_id": "a9ee4b5c-c376-4ef0-8800-087dd318c622", "thread": 43880, "process": 43584}
{"timestamp": "2025-12-05T10:24:24.600725", "level": "INFO", "logger": "trip_planner", "message": "已存储用户偏好 - UserID: a9ee4b5c-c376-4ef0-8800-087dd318c622, Type: trip_request", "module": "memory_service", "function": "store_user_preference", "line": 118, "request_id": "a9ee4b5c-c376-4ef0-8800-087dd318c622", "thread": 43880, "process": 43584}
{"timestamp": "2025-12-05T10:24:24.600725", "level": "INFO", "logger": "trip_planner", "message": "成功生成并验证了行程计划: 杭州自然休闲之旅", "module": "planner", "function": "plan_trip", "line": 244, "request_id": "a9ee4b5c-c376-4ef0-8800-087dd318c622", "thread": 43880, "process": 43584}
{"timestamp": "2025-12-05T10:24:24.601728", "level": "INFO", "logger": "trip_planner", "message": "行程规划成功（增强版）", "module": "trip", "function": "plan_trip", "line": 74, "request_id": "a9ee4b5c-c376-4ef0-8800-087dd318c622", "thread": 43880, "process": 43584}
{"timestamp": "2025-12-05T10:32:53.160128", "level": "INFO", "logger": "trip_planner", "message": "LLM服务初始化完成。Provider: modelscope, Model: Qwen/Qwen2.5-7B-Instruct, Base URL: https://api-inference.modelscope.cn/v1/", "module": "llm_service", "function": "__init__", "line": 45, "thread": 39088, "process": 34472}
{"timestamp": "2025-12-05T10:32:53.269197", "level": "INFO", "logger": "trip_planner", "message": "记忆服务初始化完成", "module": "memory_service", "function": "__init__", "line": 38, "thread": 39088, "process": 34472}
{"timestamp": "2025-12-05T10:32:53.274658", "level": "INFO", "logger": "trip_planner", "message": "智能体通信中心初始化完成", "module": "agent_communication", "function": "__init__", "line": 74, "thread": 39088, "process": 34472}
{"timestamp": "2025-12-05T10:32:55.274514", "level": "INFO", "logger": "trip_planner", "message": "LLM服务初始化完成。Provider: modelscope, Model: Qwen/Qwen2.5-7B-Instruct, Base URL: https://api-inference.modelscope.cn/v1/", "module": "llm_service", "function": "__init__", "line": 45, "thread": 39088, "process": 34472}
{"timestamp": "2025-12-05T10:33:02.040925", "level": "INFO", "logger": "trip_planner", "message": "✅ 多智能体系统初始化完成（增强版）", "module": "planner", "function": "__init__", "line": 47, "thread": 39088, "process": 34472}
{"timestamp": "2025-12-05T10:33:02.056555", "level": "INFO", "logger": "trip_planner", "message": "智能旅行助手API已启动", "module": "main", "function": "on_startup", "line": 55, "thread": 39088, "process": 34472}
{"timestamp": "2025-12-05T10:33:02.057603", "level": "INFO", "logger": "trip_planner", "message": "已启用功能: 日志系统、请求ID追踪、限流、熔断、降级、异常处理", "module": "main", "function": "on_startup", "line": 56, "thread": 39088, "process": 34472}
{"timestamp": "2025-12-05T10:33:06.522478", "level": "INFO", "logger": "trip_planner", "message": "LLM服务初始化完成。Provider: modelscope, Model: Qwen/Qwen2.5-7B-Instruct, Base URL: https://api-inference.modelscope.cn/v1/", "module": "llm_service", "function": "__init__", "line": 45, "thread": 20152, "process": 32576}
{"timestamp": "2025-12-05T10:33:06.642962", "level": "INFO", "logger": "trip_planner", "message": "记忆服务初始化完成", "module": "memory_service", "function": "__init__", "line": 38, "thread": 20152, "process": 32576}
{"timestamp": "2025-12-05T10:33:06.648480", "level": "INFO", "logger": "trip_planner", "message": "智能体通信中心初始化完成", "module": "agent_communication", "function": "__init__", "line": 74, "thread": 20152, "process": 32576}
{"timestamp": "2025-12-05T10:33:08.650259", "level": "INFO", "logger": "trip_planner", "message": "LLM服务初始化完成。Provider: modelscope, Model: Qwen/Qwen2.5-7B-Instruct, Base URL: https://api-inference.modelscope.cn/v1/", "module": "llm_service", "function": "__init__", "line": 45, "thread": 20152, "process": 32576}
{"timestamp": "2025-12-05T10:33:11.667278", "level": "INFO", "logger": "trip_planner", "message": "✅ 多智能体系统初始化完成（增强版）", "module": "planner", "function": "__init__", "line": 47, "thread": 20152, "process": 32576}
{"timestamp": "2025-12-05T10:33:11.678874", "level": "INFO", "logger": "trip_planner", "message": "智能旅行助手API已启动", "module": "main", "function": "on_startup", "line": 55, "thread": 20152, "process": 32576}
{"timestamp": "2025-12-05T10:33:11.678874", "level": "INFO", "logger": "trip_planner", "message": "已启用功能: 日志系统、请求ID追踪、限流、熔断、降级、异常处理", "module": "main", "function": "on_startup", "line": 56, "thread": 20152, "process": 32576}
{"timestamp": "2025-12-05T10:33:26.286078", "level": "INFO", "logger": "trip_planner", "message": "LLM服务初始化完成。Provider: modelscope, Model: Qwen/Qwen2.5-7B-Instruct, Base URL: https://api-inference.modelscope.cn/v1/", "module": "llm_service", "function": "__init__", "line": 45, "thread": 16196, "process": 8652}
{"timestamp": "2025-12-05T10:33:26.424544", "level": "INFO", "logger": "trip_planner", "message": "记忆服务初始化完成", "module": "memory_service", "function": "__init__", "line": 38, "thread": 16196, "process": 8652}
{"timestamp": "2025-12-05T10:33:26.430348", "level": "INFO", "logger": "trip_planner", "message": "智能体通信中心初始化完成", "module": "agent_communication", "function": "__init__", "line": 74, "thread": 16196, "process": 8652}
{"timestamp": "2025-12-05T10:33:28.392512", "level": "INFO", "logger": "trip_planner", "message": "LLM服务初始化完成。Provider: modelscope, Model: Qwen/Qwen2.5-7B-Instruct, Base URL: https://api-inference.modelscope.cn/v1/", "module": "llm_service", "function": "__init__", "line": 45, "thread": 16196, "process": 8652}
{"timestamp": "2025-12-05T10:33:31.486642", "level": "INFO", "logger": "trip_planner", "message": "✅ 多智能体系统初始化完成（增强版）", "module": "planner", "function": "__init__", "line": 62, "thread": 16196, "process": 8652}
{"timestamp": "2025-12-05T10:33:31.502847", "level": "INFO", "logger": "trip_planner", "message": "智能旅行助手API已启动", "module": "main", "function": "on_startup", "line": 55, "thread": 16196, "process": 8652}
{"timestamp": "2025-12-05T10:33:31.504006", "level": "INFO", "logger": "trip_planner", "message": "已启用功能: 日志系统、请求ID追踪、限流、熔断、降级、异常处理", "module": "main", "function": "on_startup", "line": 56, "thread": 16196, "process": 8652}
{"timestamp": "2025-12-05T10:33:53.873166", "level": "INFO", "logger": "trip_planner", "message": "LLM服务初始化完成。Provider: modelscope, Model: Qwen/Qwen2.5-7B-Instruct, Base URL: https://api-inference.modelscope.cn/v1/", "module": "llm_service", "function": "__init__", "line": 45, "thread": 14912, "process": 16848}
{"timestamp": "2025-12-05T10:33:53.952693", "level": "INFO", "logger": "trip_planner", "message": "记忆服务初始化完成", "module": "memory_service", "function": "__init__", "line": 38, "thread": 14912, "process": 16848}
{"timestamp": "2025-12-05T10:33:53.955719", "level": "INFO", "logger": "trip_planner", "message": "智能体通信中心初始化完成", "module": "agent_communication", "function": "__init__", "line": 74, "thread": 14912, "process": 16848}
{"timestamp": "2025-12-05T10:33:55.670561", "level": "INFO", "logger": "trip_planner", "message": "LLM服务初始化完成。Provider: modelscope, Model: Qwen/Qwen2.5-7B-Instruct, Base URL: https://api-inference.modelscope.cn/v1/", "module": "llm_service", "function": "__init__", "line": 45, "thread": 14912, "process": 16848}
{"timestamp": "2025-12-05T10:33:58.102214", "level": "INFO", "logger": "trip_planner", "message": "✅ 多智能体系统初始化完成（增强版）", "module": "planner", "function": "__init__", "line": 62, "thread": 14912, "process": 16848}
{"timestamp": "2025-12-05T10:33:58.112973", "level": "INFO", "logger": "trip_planner", "message": "智能旅行助手API已启动", "module": "main", "function": "on_startup", "line": 55, "thread": 14912, "process": 16848}
{"timestamp": "2025-12-05T10:33:58.113976", "level": "INFO", "logger": "trip_planner", "message": "已启用功能: 日志系统、请求ID追踪、限流、熔断、降级、异常处理", "module": "main", "function": "on_startup", "line": 56, "thread": 14912, "process": 16848}
{"timestamp": "2025-12-05T10:37:22.830655", "level": "INFO", "logger": "trip_planner", "message": "LLM服务初始化完成。Provider: modelscope, Model: Qwen/Qwen2.5-7B-Instruct, Base URL: https://api-inference.modelscope.cn/v1/", "module": "llm_service", "function": "__init__", "line": 45, "thread": 34020, "process": 40920}
{"timestamp": "2025-12-05T10:37:22.904457", "level": "INFO", "logger": "trip_planner", "message": "记忆服务初始化完成", "module": "memory_service", "function": "__init__", "line": 38, "thread": 34020, "process": 40920}
{"timestamp": "2025-12-05T10:37:22.907907", "level": "INFO", "logger": "trip_planner", "message": "智能体通信中心初始化完成", "module": "agent_communication", "function": "__init__", "line": 74, "thread": 34020, "process": 40920}
{"timestamp": "2025-12-05T10:37:23.839475", "level": "INFO", "logger": "trip_planner", "message": "LLM服务初始化完成。Provider: modelscope, Model: Qwen/Qwen2.5-7B-Instruct, Base URL: https://api-inference.modelscope.cn/v1/", "module": "llm_service", "function": "__init__", "line": 45, "thread": 34020, "process": 40920}
{"timestamp": "2025-12-05T10:37:25.419674", "level": "INFO", "logger": "trip_planner", "message": "✅ 多智能体系统初始化完成（增强版）", "module": "planner", "function": "__init__", "line": 62, "thread": 34020, "process": 40920}
{"timestamp": "2025-12-05T10:37:25.427933", "level": "INFO", "logger": "trip_planner", "message": "智能旅行助手API已启动", "module": "main", "function": "on_startup", "line": 55, "thread": 34020, "process": 40920}
{"timestamp": "2025-12-05T10:37:25.429428", "level": "INFO", "logger": "trip_planner", "message": "已启用功能: 日志系统、请求ID追踪、限流、熔断、降级、异常处理", "module": "main", "function": "on_startup", "line": 56, "thread": 34020, "process": 40920}
{"timestamp": "2025-12-05T10:38:46.888577", "level": "INFO", "logger": "trip_planner", "message": "接收到新的行程规划请求（增强版）", "module": "trip", "function": "plan_trip", "line": 38, "request_id": "9dc7a40f-18c4-4c34-823a-4fb2fcc508e0", "thread": 38988, "process": 40920}
{"timestamp": "2025-12-05T10:38:46.889579", "level": "INFO", "logger": "trip_planner", "message": "上下文管理器初始化 - RequestID: 9dc7a40f-18c4-4c34-823a-4fb2fcc508e0", "module": "context_manager", "function": "__init__", "line": 33, "request_id": "9dc7a40f-18c4-4c34-823a-4fb2fcc508e0", "thread": 38988, "process": 40920}
{"timestamp": "2025-12-05T10:38:46.889579", "level": "INFO", "logger": "trip_planner", "message": "创建增强智能体...", "module": "planner", "function": "plan_trip", "line": 313, "request_id": "9dc7a40f-18c4-4c34-823a-4fb2fcc508e0", "thread": 38988, "process": 40920}
{"timestamp": "2025-12-05T10:38:46.891073", "level": "INFO", "logger": "trip_planner", "message": "智能体已注册 - Name: 景点搜索专家", "module": "agent_communication", "function": "register_agent", "line": 86, "request_id": "9dc7a40f-18c4-4c34-823a-4fb2fcc508e0", "thread": 38988, "process": 40920}
{"timestamp": "2025-12-05T10:38:46.891073", "level": "INFO", "logger": "trip_planner", "message": "✅ 景点搜索专家 增强智能体初始化完成，工具调用: 启用", "module": "enhanced_agent", "function": "__init__", "line": 75, "request_id": "9dc7a40f-18c4-4c34-823a-4fb2fcc508e0", "thread": 38988, "process": 40920}
{"timestamp": "2025-12-05T10:38:46.892176", "level": "INFO", "logger": "trip_planner", "message": "智能体已注册 - Name: 酒店推荐专家", "module": "agent_communication", "function": "register_agent", "line": 86, "request_id": "9dc7a40f-18c4-4c34-823a-4fb2fcc508e0", "thread": 38988, "process": 40920}
{"timestamp": "2025-12-05T10:38:46.893285", "level": "INFO", "logger": "trip_planner", "message": "✅ 酒店推荐专家 增强智能体初始化完成，工具调用: 启用", "module": "enhanced_agent", "function": "__init__", "line": 75, "request_id": "9dc7a40f-18c4-4c34-823a-4fb2fcc508e0", "thread": 38988, "process": 40920}
{"timestamp": "2025-12-05T10:38:46.893285", "level": "INFO", "logger": "trip_planner", "message": "智能体已注册 - Name: 天气查询专家", "module": "agent_communication", "function": "register_agent", "line": 86, "request_id": "9dc7a40f-18c4-4c34-823a-4fb2fcc508e0", "thread": 38988, "process": 40920}
{"timestamp": "2025-12-05T10:38:46.894288", "level": "INFO", "logger": "trip_planner", "message": "✅ 天气查询专家 增强智能体初始化完成，工具调用: 启用", "module": "enhanced_agent", "function": "__init__", "line": 75, "request_id": "9dc7a40f-18c4-4c34-823a-4fb2fcc508e0", "thread": 38988, "process": 40920}
{"timestamp": "2025-12-05T10:38:46.894288", "level": "INFO", "logger": "trip_planner", "message": "智能体已注册 - Name: 行程规划专家", "module": "agent_communication", "function": "register_agent", "line": 86, "request_id": "9dc7a40f-18c4-4c34-823a-4fb2fcc508e0", "thread": 38988, "process": 40920}
{"timestamp": "2025-12-05T10:38:46.894288", "level": "INFO", "logger": "trip_planner", "message": "✅ 行程规划专家 增强智能体初始化完成，工具调用: 禁用", "module": "enhanced_agent", "function": "__init__", "line": 75, "request_id": "9dc7a40f-18c4-4c34-823a-4fb2fcc508e0", "thread": 38988, "process": 40920}
{"timestamp": "2025-12-05T10:38:46.895617", "level": "INFO", "logger": "trip_planner", "message": "开始景点搜索...", "module": "planner", "function": "plan_trip", "line": 349, "request_id": "9dc7a40f-18c4-4c34-823a-4fb2fcc508e0", "thread": 38988, "process": 40920}
{"timestamp": "2025-12-05T10:38:46.895617", "level": "INFO", "logger": "trip_planner", "message": "🤖 景点搜索专家 正在处理: 请使用amap_maps_text_search工具搜索北京的历史相关景点。\n[TOOL_CALL:amap_maps_text_search:keywords=历史,city=北京]...", "module": "enhanced_agent", "function": "run", "line": 153, "request_id": "9dc7a40f-18c4-4c34-823a-4fb2fcc508e0", "thread": 38988, "process": 40920}
{"timestamp": "2025-12-05T10:38:54.026154", "level": "INFO", "logger": "trip_planner", "message": "✅ 景点搜索专家 响应完成", "module": "enhanced_agent", "function": "_run_with_tools", "line": 272, "request_id": "9dc7a40f-18c4-4c34-823a-4fb2fcc508e0", "thread": 38988, "process": 40920}
{"timestamp": "2025-12-05T10:38:54.027276", "level": "INFO", "logger": "trip_planner", "message": "酒店推荐专家 收到景点信息，将优化酒店推荐", "module": "specialized_agents", "function": "handle_message", "line": 317, "request_id": "9dc7a40f-18c4-4c34-823a-4fb2fcc508e0", "thread": 38988, "process": 40920}
{"timestamp": "2025-12-05T10:38:54.027276", "level": "INFO", "logger": "trip_planner", "message": "景点搜索完成: 根据搜索结果，以下是一些北京的历史相关景点推荐：\n\n1. 故宫博物院 - 位于北京市东城区景山前街4号，是一座拥有600年历史的皇家宫殿，现为博物馆。\n2. 天安门广场 - 位于北京市中心，是世界上最大的城市中心广场之一，周围有许多具有历史意义的建筑。\n3. 颐和园 - 位于北京市海淀区新建宫门路19号，是一座保存完好的大型皇家园林，展示了中国传统的园林艺术。\n4. 长城（八达岭长城） - 位于北...", "module": "planner", "function": "plan_trip", "line": 352, "request_id": "9dc7a40f-18c4-4c34-823a-4fb2fcc508e0", "thread": 38988, "process": 40920}
{"timestamp": "2025-12-05T10:38:54.028337", "level": "INFO", "logger": "trip_planner", "message": "开始酒店推荐...", "module": "planner", "function": "plan_trip", "line": 355, "request_id": "9dc7a40f-18c4-4c34-823a-4fb2fcc508e0", "thread": 38988, "process": 40920}
{"timestamp": "2025-12-05T10:38:54.028337", "level": "INFO", "logger": "trip_planner", "message": "🤖 酒店推荐专家 正在处理: 请使用amap_maps_text_search工具搜索北京的酒店。请确保返回的酒店信息详细且准确。\n[TOOL_CALL:amap_maps_text_search:keywords=酒店,city...", "module": "enhanced_agent", "function": "run", "line": 153, "request_id": "9dc7a40f-18c4-4c34-823a-4fb2fcc508e0", "thread": 38988, "process": 40920}
{"timestamp": "2025-12-05T10:39:03.547041", "level": "INFO", "logger": "trip_planner", "message": "✅ 酒店推荐专家 响应完成", "module": "enhanced_agent", "function": "_run_with_tools", "line": 272, "request_id": "9dc7a40f-18c4-4c34-823a-4fb2fcc508e0", "thread": 38988, "process": 40920}
{"timestamp": "2025-12-05T10:39:03.548041", "level": "INFO", "logger": "trip_planner", "message": "酒店推荐完成: 好的，我会根据故宫博物院、天安门广场和颐和园的位置，为您推荐几家附近的酒店。\n\n1. **故宫附近酒店**：\n   - **名称**: 北京王府井希尔顿酒店\n   - **地址**: 北京市东城区王府井大街33号\n   - **距离**: 约0.8公里\n   - **类型**: 高档型\n   - **特点**: 靠近商业区，交通便利，周边有众多餐厅和购物场所。\n\n2. **天安门广场附近酒店**：...", "module": "planner", "function": "plan_trip", "line": 358, "request_id": "9dc7a40f-18c4-4c34-823a-4fb2fcc508e0", "thread": 38988, "process": 40920}
{"timestamp": "2025-12-05T10:39:03.549143", "level": "INFO", "logger": "trip_planner", "message": "开始天气查询...", "module": "planner", "function": "plan_trip", "line": 361, "request_id": "9dc7a40f-18c4-4c34-823a-4fb2fcc508e0", "thread": 38988, "process": 40920}
{"timestamp": "2025-12-05T10:39:03.549787", "level": "INFO", "logger": "trip_planner", "message": "🤖 天气查询专家 正在处理: 请查询北京的天气信息，日期范围：2025-12-12 到 2025-12-14，查询日期范围：2025-12-12 到 2025-12-14...", "module": "enhanced_agent", "function": "run", "line": 153, "request_id": "9dc7a40f-18c4-4c34-823a-4fb2fcc508e0", "thread": 38988, "process": 40920}
{"timestamp": "2025-12-05T10:39:14.741532", "level": "INFO", "logger": "trip_planner", "message": "✅ 天气查询专家 响应完成", "module": "enhanced_agent", "function": "_run_with_tools", "line": 272, "request_id": "9dc7a40f-18c4-4c34-823a-4fb2fcc508e0", "thread": 38988, "process": 40920}
{"timestamp": "2025-12-05T10:39:14.742537", "level": "INFO", "logger": "trip_planner", "message": "天气查询完成: 由于 `amap_maps_weather` 工具未找到，我将提供一个示例格式供您参考，并指导您如何查询北京从2025-12-12到2025-12-14的天气信息。\n\n您可以使用以下格式进行查询：\n```\n[TOOL_CALL:amap_maps_weather:city=北京:start_date=2025-12-12:end_date=2025-12-14]\n```\n\n请按照上述格式访问相关的...", "module": "planner", "function": "plan_trip", "line": 364, "request_id": "9dc7a40f-18c4-4c34-823a-4fb2fcc508e0", "thread": 38988, "process": 40920}
{"timestamp": "2025-12-05T10:39:14.742537", "level": "INFO", "logger": "trip_planner", "message": "开始行程规划...", "module": "planner", "function": "plan_trip", "line": 367, "request_id": "9dc7a40f-18c4-4c34-823a-4fb2fcc508e0", "thread": 38988, "process": 40920}
{"timestamp": "2025-12-05T10:39:14.745617", "level": "INFO", "logger": "trip_planner", "message": "🤖 行程规划专家 正在处理: \n        请为我创建一个前往 北京 的旅行计划。\n\n        **基本信息:**\n        - 旅行天数: 3 天 (从 2025-12-12 到 2025-12-14)\n    ...", "module": "enhanced_agent", "function": "run", "line": 153, "request_id": "9dc7a40f-18c4-4c34-823a-4fb2fcc508e0", "thread": 38988, "process": 40920}
{"timestamp": "2025-12-05T10:40:02.974189", "level": "INFO", "logger": "trip_planner", "message": "✅ 行程规划专家 响应完成", "module": "enhanced_agent", "function": "run", "line": 191, "request_id": "9dc7a40f-18c4-4c34-823a-4fb2fcc508e0", "thread": 38988, "process": 40920}
{"timestamp": "2025-12-05T10:40:02.975674", "level": "INFO", "logger": "trip_planner", "message": "已存储用户偏好 - UserID: 9dc7a40f-18c4-4c34-823a-4fb2fcc508e0, Type: trip_planning", "module": "memory_service", "function": "store_user_preference", "line": 118, "request_id": "9dc7a40f-18c4-4c34-823a-4fb2fcc508e0", "thread": 38988, "process": 40920}
{"timestamp": "2025-12-05T10:40:02.978862", "level": "INFO", "logger": "trip_planner", "message": "已存储用户偏好 - UserID: 9dc7a40f-18c4-4c34-823a-4fb2fcc508e0, Type: trip_request", "module": "memory_service", "function": "store_user_preference", "line": 118, "request_id": "9dc7a40f-18c4-4c34-823a-4fb2fcc508e0", "thread": 38988, "process": 40920}
{"timestamp": "2025-12-05T10:40:02.980092", "level": "INFO", "logger": "trip_planner", "message": "成功生成并验证了行程计划: 北京历史与美食之旅", "module": "planner", "function": "plan_trip", "line": 408, "request_id": "9dc7a40f-18c4-4c34-823a-4fb2fcc508e0", "thread": 38988, "process": 40920}
{"timestamp": "2025-12-05T10:40:02.980092", "level": "INFO", "logger": "trip_planner", "message": "行程规划成功（增强版）", "module": "trip", "function": "plan_trip", "line": 74, "request_id": "9dc7a40f-18c4-4c34-823a-4fb2fcc508e0", "thread": 38988, "process": 40920}
{"timestamp": "2025-12-15T23:55:12.462689", "level": "INFO", "logger": "trip_planner", "message": "LLM服务初始化完成。Provider: modelscope, Model: Qwen/Qwen2.5-7B-Instruct, Base URL: https://api-inference.modelscope.cn/v1/", "module": "llm_service", "function": "__init__", "line": 45, "thread": 39276, "process": 40456}
{"timestamp": "2025-12-15T23:55:12.566690", "level": "INFO", "logger": "trip_planner", "message": "记忆服务初始化完成", "module": "memory_service", "function": "__init__", "line": 38, "thread": 39276, "process": 40456}
{"timestamp": "2025-12-15T23:55:12.571386", "level": "INFO", "logger": "trip_planner", "message": "智能体通信中心初始化完成", "module": "agent_communication", "function": "__init__", "line": 74, "thread": 39276, "process": 40456}
{"timestamp": "2025-12-15T23:55:13.587726", "level": "INFO", "logger": "trip_planner", "message": "LLM服务初始化完成。Provider: modelscope, Model: Qwen/Qwen2.5-7B-Instruct, Base URL: https://api-inference.modelscope.cn/v1/", "module": "llm_service", "function": "__init__", "line": 45, "thread": 39276, "process": 40456}
{"timestamp": "2025-12-15T23:55:25.805273", "level": "INFO", "logger": "trip_planner", "message": "✅ 多智能体系统初始化完成（增强版）", "module": "planner", "function": "__init__", "line": 62, "thread": 39276, "process": 40456}
{"timestamp": "2025-12-15T23:55:25.821248", "level": "INFO", "logger": "trip_planner", "message": "智能旅行助手API已启动", "module": "main", "function": "on_startup", "line": 55, "thread": 39276, "process": 40456}
{"timestamp": "2025-12-15T23:55:25.822847", "level": "INFO", "logger": "trip_planner", "message": "已启用功能: 日志系统、请求ID追踪、限流、熔断、降级、异常处理", "module": "main", "function": "on_startup", "line": 56, "thread": 39276, "process": 40456}
{"timestamp": "2025-12-15T23:56:25.493828", "level": "INFO", "logger": "trip_planner", "message": "接收到新的行程规划请求（增强版）", "module": "trip", "function": "plan_trip", "line": 38, "request_id": "44097c8d-d689-45b0-b68f-002602ed853b", "thread": 1260, "process": 40456}
{"timestamp": "2025-12-15T23:56:25.494910", "level": "INFO", "logger": "trip_planner", "message": "上下文管理器初始化 - RequestID: 44097c8d-d689-45b0-b68f-002602ed853b", "module": "context_manager", "function": "__init__", "line": 33, "request_id": "44097c8d-d689-45b0-b68f-002602ed853b", "thread": 1260, "process": 40456}
{"timestamp": "2025-12-15T23:56:25.494910", "level": "INFO", "logger": "trip_planner", "message": "创建增强智能体...", "module": "planner", "function": "plan_trip", "line": 313, "request_id": "44097c8d-d689-45b0-b68f-002602ed853b", "thread": 1260, "process": 40456}
{"timestamp": "2025-12-15T23:56:25.494910", "level": "INFO", "logger": "trip_planner", "message": "智能体已注册 - Name: 景点搜索专家", "module": "agent_communication", "function": "register_agent", "line": 86, "request_id": "44097c8d-d689-45b0-b68f-002602ed853b", "thread": 1260, "process": 40456}
{"timestamp": "2025-12-15T23:56:25.496196", "level": "INFO", "logger": "trip_planner", "message": "✅ 景点搜索专家 增强智能体初始化完成，工具调用: 启用", "module": "enhanced_agent", "function": "__init__", "line": 75, "request_id": "44097c8d-d689-45b0-b68f-002602ed853b", "thread": 1260, "process": 40456}
{"timestamp": "2025-12-15T23:56:25.497203", "level": "INFO", "logger": "trip_planner", "message": "智能体已注册 - Name: 酒店推荐专家", "module": "agent_communication", "function": "register_agent", "line": 86, "request_id": "44097c8d-d689-45b0-b68f-002602ed853b", "thread": 1260, "process": 40456}
{"timestamp": "2025-12-15T23:56:25.497203", "level": "INFO", "logger": "trip_planner", "message": "✅ 酒店推荐专家 增强智能体初始化完成，工具调用: 启用", "module": "enhanced_agent", "function": "__init__", "line": 75, "request_id": "44097c8d-d689-45b0-b68f-002602ed853b", "thread": 1260, "process": 40456}
{"timestamp": "2025-12-15T23:56:25.498376", "level": "INFO", "logger": "trip_planner", "message": "智能体已注册 - Name: 天气查询专家", "module": "agent_communication", "function": "register_agent", "line": 86, "request_id": "44097c8d-d689-45b0-b68f-002602ed853b", "thread": 1260, "process": 40456}
{"timestamp": "2025-12-15T23:56:25.498376", "level": "INFO", "logger": "trip_planner", "message": "✅ 天气查询专家 增强智能体初始化完成，工具调用: 启用", "module": "enhanced_agent", "function": "__init__", "line": 75, "request_id": "44097c8d-d689-45b0-b68f-002602ed853b", "thread": 1260, "process": 40456}
{"timestamp": "2025-12-15T23:56:25.499518", "level": "INFO", "logger": "trip_planner", "message": "智能体已注册 - Name: 行程规划专家", "module": "agent_communication", "function": "register_agent", "line": 86, "request_id": "44097c8d-d689-45b0-b68f-002602ed853b", "thread": 1260, "process": 40456}
{"timestamp": "2025-12-15T23:56:25.499518", "level": "INFO", "logger": "trip_planner", "message": "✅ 行程规划专家 增强智能体初始化完成，工具调用: 禁用", "module": "enhanced_agent", "function": "__init__", "line": 75, "request_id": "44097c8d-d689-45b0-b68f-002602ed853b", "thread": 1260, "process": 40456}
{"timestamp": "2025-12-15T23:56:25.499518", "level": "INFO", "logger": "trip_planner", "message": "开始景点搜索...", "module": "planner", "function": "plan_trip", "line": 349, "request_id": "44097c8d-d689-45b0-b68f-002602ed853b", "thread": 1260, "process": 40456}
{"timestamp": "2025-12-15T23:56:25.500522", "level": "INFO", "logger": "trip_planner", "message": "🤖 景点搜索专家 正在处理: 请使用amap_maps_text_search工具搜索成都的美食相关景点。\n[TOOL_CALL:amap_maps_text_search:keywords=美食,city=成都]...", "module": "enhanced_agent", "function": "run", "line": 153, "request_id": "44097c8d-d689-45b0-b68f-002602ed853b", "thread": 1260, "process": 40456}
{"timestamp": "2025-12-15T23:56:26.225909", "level": "ERROR", "logger": "trip_planner", "message": "解析或验证LLM返回的JSON时失败: LLM调用失败: Error code: 401 - {'errors': {'message': 'Authentication failed, please make sure that a valid ModelScope token is supplied.', 'request_id': '09749269-0d47-4a71-a8f5-f4de03d2cb7a'}}", "module": "planner", "function": "plan_trip", "line": 416, "request_id": "44097c8d-d689-45b0-b68f-002602ed853b", "exception": {"type": "Exception", "message": "LLM调用失败: Error code: 401 - {'errors': {'message': 'Authentication failed, please make sure that a valid ModelScope token is supplied.', 'request_id': '09749269-0d47-4a71-a8f5-f4de03d2cb7a'}}", "traceback": ["Traceback (most recent call last):\n", "  File \"C:\\code\\agent\\trip_planner\\backend\\app\\services\\llm_service.py\", line 159, in invoke\n    response = self.client.chat.completions.create(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"C:\\Users\\tzh19\\.conda\\envs\\py311\\Lib\\site-packages\\openai\\_utils\\_utils.py\", line 286, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n", "  File \"C:\\Users\\tzh19\\.conda\\envs\\py311\\Lib\\site-packages\\openai\\resources\\chat\\completions\\completions.py\", line 1147, in create\n    return self._post(\n           ^^^^^^^^^^^\n", "  File \"C:\\Users\\tzh19\\.conda\\envs\\py311\\Lib\\site-packages\\openai\\_base_client.py\", line 1259, in post\n    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))\n                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"C:\\Users\\tzh19\\.conda\\envs\\py311\\Lib\\site-packages\\openai\\_base_client.py\", line 1047, in request\n    raise self._make_status_error_from_response(err.response) from None\n", "openai.AuthenticationError: Error code: 401 - {'errors': {'message': 'Authentication failed, please make sure that a valid ModelScope token is supplied.', 'request_id': '09749269-0d47-4a71-a8f5-f4de03d2cb7a'}}\n", "\nDuring handling of the above exception, another exception occurred:\n\n", "Traceback (most recent call last):\n", "  File \"C:\\code\\agent\\trip_planner\\backend\\app\\agents\\planner.py\", line 351, in plan_trip\n    attractions = attraction_agent.run(attraction_query)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"C:\\code\\agent\\trip_planner\\backend\\app\\agents\\specialized_agents.py\", line 264, in run\n    result = super().run(input_text, max_tool_iterations, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"C:\\code\\agent\\trip_planner\\backend\\app\\agents\\enhanced_agent.py\", line 195, in run\n    return self._run_with_tools(messages, input_text, max_tool_iterations, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"C:\\code\\agent\\trip_planner\\backend\\app\\agents\\enhanced_agent.py\", line 210, in _run_with_tools\n    response = self.llm.invoke(messages, **kwargs)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"C:\\code\\agent\\trip_planner\\backend\\app\\services\\llm_service.py\", line 168, in invoke\n    raise Exception(f\"LLM调用失败: {str(e)}\")\n", "Exception: LLM调用失败: Error code: 401 - {'errors': {'message': 'Authentication failed, please make sure that a valid ModelScope token is supplied.', 'request_id': '09749269-0d47-4a71-a8f5-f4de03d2cb7a'}}\n"]}, "thread": 1260, "process": 40456}
{"timestamp": "2025-12-15T23:56:26.241166", "level": "ERROR", "logger": "trip_planner", "message": "业务异常: 行程规划失败", "module": "exception_handler", "function": "global_exception_handler", "line": 29, "exception": {"type": "BusinessException", "message": "行程规划失败", "traceback": ["  + Exception Group Traceback (most recent call last):\n", "  |   File \"C:\\Users\\tzh19\\.conda\\envs\\py311\\Lib\\site-packages\\starlette\\_utils.py\", line 79, in collapse_excgroups\n  |     yield\n", "  |   File \"C:\\Users\\tzh19\\.conda\\envs\\py311\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 192, in __call__\n  |     async with anyio.create_task_group() as task_group:\n", "  |   File \"C:\\Users\\tzh19\\.conda\\envs\\py311\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 781, in __aexit__\n  |     raise BaseExceptionGroup(\n", "  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n", "  +-+---------------- 1 ----------------\n", "    | Traceback (most recent call last):\n", "    |   File \"C:\\Users\\tzh19\\.conda\\envs\\py311\\Lib\\site-packages\\starlette\\middleware\\errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n", "    |   File \"C:\\Users\\tzh19\\.conda\\envs\\py311\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 93, in __call__\n    |     await self.simple_response(scope, receive, send, request_headers=headers)\n", "    |   File \"C:\\Users\\tzh19\\.conda\\envs\\py311\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 144, in simple_response\n    |     await self.app(scope, receive, send)\n", "    |   File \"C:\\Users\\tzh19\\.conda\\envs\\py311\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 191, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n", "    |   File \"C:\\Users\\tzh19\\.conda\\envs\\py311\\Lib\\contextlib.py\", line 158, in __exit__\n    |     self.gen.throw(typ, value, traceback)\n", "    |   File \"C:\\Users\\tzh19\\.conda\\envs\\py311\\Lib\\site-packages\\starlette\\_utils.py\", line 85, in collapse_excgroups\n    |     raise exc\n", "    |   File \"C:\\Users\\tzh19\\.conda\\envs\\py311\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 193, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "    |   File \"C:\\code\\agent\\trip_planner\\backend\\app\\middleware\\rate_limit.py\", line 221, in dispatch\n    |     return await call_next(request)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^\n", "    |   File \"C:\\Users\\tzh19\\.conda\\envs\\py311\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 168, in call_next\n    |     raise app_exc from app_exc.__cause__ or app_exc.__context__\n", "    |   File \"C:\\Users\\tzh19\\.conda\\envs\\py311\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n", "    |   File \"C:\\Users\\tzh19\\.conda\\envs\\py311\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 191, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n", "    |   File \"C:\\Users\\tzh19\\.conda\\envs\\py311\\Lib\\contextlib.py\", line 158, in __exit__\n    |     self.gen.throw(typ, value, traceback)\n", "    |   File \"C:\\Users\\tzh19\\.conda\\envs\\py311\\Lib\\site-packages\\starlette\\_utils.py\", line 85, in collapse_excgroups\n    |     raise exc\n", "    |   File \"C:\\Users\\tzh19\\.conda\\envs\\py311\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 193, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "    |   File \"C:\\code\\agent\\trip_planner\\backend\\app\\middleware\\request_id.py\", line 35, in dispatch\n    |     response = await call_next(request)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^\n", "    |   File \"C:\\Users\\tzh19\\.conda\\envs\\py311\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 168, in call_next\n    |     raise app_exc from app_exc.__cause__ or app_exc.__context__\n", "    |   File \"C:\\Users\\tzh19\\.conda\\envs\\py311\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n", "    |   File \"C:\\Users\\tzh19\\.conda\\envs\\py311\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n", "    |   File \"C:\\Users\\tzh19\\.conda\\envs\\py311\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n", "    |   File \"C:\\Users\\tzh19\\.conda\\envs\\py311\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n", "    |   File \"C:\\Users\\tzh19\\.conda\\envs\\py311\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    |     await self.app(scope, receive, send)\n", "    |   File \"C:\\Users\\tzh19\\.conda\\envs\\py311\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n", "    |   File \"C:\\Users\\tzh19\\.conda\\envs\\py311\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n", "    |   File \"C:\\Users\\tzh19\\.conda\\envs\\py311\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n", "    |   File \"C:\\Users\\tzh19\\.conda\\envs\\py311\\Lib\\site-packages\\fastapi\\routing.py\", line 125, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n", "    |   File \"C:\\Users\\tzh19\\.conda\\envs\\py311\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n", "    |   File \"C:\\Users\\tzh19\\.conda\\envs\\py311\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n", "    |   File \"C:\\Users\\tzh19\\.conda\\envs\\py311\\Lib\\site-packages\\fastapi\\routing.py\", line 111, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n", "    |   File \"C:\\Users\\tzh19\\.conda\\envs\\py311\\Lib\\site-packages\\fastapi\\routing.py\", line 391, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "    |   File \"C:\\Users\\tzh19\\.conda\\envs\\py311\\Lib\\site-packages\\fastapi\\routing.py\", line 292, in run_endpoint_function\n    |     return await run_in_threadpool(dependant.call, **values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "    |   File \"C:\\Users\\tzh19\\.conda\\envs\\py311\\Lib\\site-packages\\starlette\\concurrency.py\", line 32, in run_in_threadpool\n    |     return await anyio.to_thread.run_sync(func)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "    |   File \"C:\\Users\\tzh19\\.conda\\envs\\py311\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    |     return await get_async_backend().run_sync_in_worker_thread(\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "    |   File \"C:\\Users\\tzh19\\.conda\\envs\\py311\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2485, in run_sync_in_worker_thread\n    |     return await future\n    |            ^^^^^^^^^^^^\n", "    |   File \"C:\\Users\\tzh19\\.conda\\envs\\py311\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 976, in run\n    |     result = context.run(func, *args)\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^\n", "    |   File \"C:\\code\\agent\\trip_planner\\backend\\app\\api\\v1\\trip.py\", line 69, in plan_trip\n    |     raise BusinessException(\n", "    | app.exceptions.custom_exceptions.BusinessException: 行程规划失败\n", "    +------------------------------------\n", "\nThe above exception was the direct cause of the following exception:\n\n", "Traceback (most recent call last):\n", "  File \"C:\\Users\\tzh19\\.conda\\envs\\py311\\Lib\\site-packages\\starlette\\middleware\\errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n", "  File \"C:\\Users\\tzh19\\.conda\\envs\\py311\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 93, in __call__\n    await self.simple_response(scope, receive, send, request_headers=headers)\n", "  File \"C:\\Users\\tzh19\\.conda\\envs\\py311\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 144, in simple_response\n    await self.app(scope, receive, send)\n", "  File \"C:\\Users\\tzh19\\.conda\\envs\\py311\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 191, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n", "  File \"C:\\Users\\tzh19\\.conda\\envs\\py311\\Lib\\contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n", "  File \"C:\\Users\\tzh19\\.conda\\envs\\py311\\Lib\\site-packages\\starlette\\_utils.py\", line 85, in collapse_excgroups\n    raise exc\n", "  File \"C:\\Users\\tzh19\\.conda\\envs\\py311\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 193, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"C:\\code\\agent\\trip_planner\\backend\\app\\middleware\\rate_limit.py\", line 221, in dispatch\n    return await call_next(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"C:\\Users\\tzh19\\.conda\\envs\\py311\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n", "  File \"C:\\Users\\tzh19\\.conda\\envs\\py311\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n", "  File \"C:\\Users\\tzh19\\.conda\\envs\\py311\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 191, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n", "  File \"C:\\Users\\tzh19\\.conda\\envs\\py311\\Lib\\contextlib.py\", line 158, in __exit__\n    self.gen.throw(typ, value, traceback)\n", "  File \"C:\\Users\\tzh19\\.conda\\envs\\py311\\Lib\\site-packages\\starlette\\_utils.py\", line 85, in collapse_excgroups\n    raise exc\n", "  File \"C:\\Users\\tzh19\\.conda\\envs\\py311\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 193, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"C:\\code\\agent\\trip_planner\\backend\\app\\middleware\\request_id.py\", line 35, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"C:\\Users\\tzh19\\.conda\\envs\\py311\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n", "  File \"C:\\Users\\tzh19\\.conda\\envs\\py311\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n", "  File \"C:\\Users\\tzh19\\.conda\\envs\\py311\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n", "  File \"C:\\Users\\tzh19\\.conda\\envs\\py311\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n", "  File \"C:\\Users\\tzh19\\.conda\\envs\\py311\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n", "  File \"C:\\Users\\tzh19\\.conda\\envs\\py311\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n", "  File \"C:\\Users\\tzh19\\.conda\\envs\\py311\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n", "  File \"C:\\Users\\tzh19\\.conda\\envs\\py311\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n", "  File \"C:\\Users\\tzh19\\.conda\\envs\\py311\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n", "  File \"C:\\Users\\tzh19\\.conda\\envs\\py311\\Lib\\site-packages\\fastapi\\routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n", "  File \"C:\\Users\\tzh19\\.conda\\envs\\py311\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n", "  File \"C:\\Users\\tzh19\\.conda\\envs\\py311\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n", "  File \"C:\\Users\\tzh19\\.conda\\envs\\py311\\Lib\\site-packages\\fastapi\\routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n", "  File \"C:\\Users\\tzh19\\.conda\\envs\\py311\\Lib\\site-packages\\fastapi\\routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"C:\\Users\\tzh19\\.conda\\envs\\py311\\Lib\\site-packages\\fastapi\\routing.py\", line 292, in run_endpoint_function\n    return await run_in_threadpool(dependant.call, **values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"C:\\Users\\tzh19\\.conda\\envs\\py311\\Lib\\site-packages\\starlette\\concurrency.py\", line 32, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"C:\\Users\\tzh19\\.conda\\envs\\py311\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"C:\\Users\\tzh19\\.conda\\envs\\py311\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2485, in run_sync_in_worker_thread\n    return await future\n           ^^^^^^^^^^^^\n", "  File \"C:\\Users\\tzh19\\.conda\\envs\\py311\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 976, in run\n    result = context.run(func, *args)\n             ^^^^^^^^^^^^^^^^^^^^^^^^\n", "  File \"C:\\code\\agent\\trip_planner\\backend\\app\\api\\v1\\trip.py\", line 69, in plan_trip\n    raise BusinessException(\n", "app.exceptions.custom_exceptions.BusinessException: 行程规划失败\n"]}, "thread": 39276, "process": 40456}
{"timestamp": "2025-12-16T00:09:46.111430", "level": "INFO", "logger": "trip_planner", "message": "LLM服务初始化完成。Provider: modelscope, Model: Qwen/Qwen2.5-7B-Instruct, Base URL: https://api-inference.modelscope.cn/v1/", "module": "llm_service", "function": "__init__", "line": 45, "thread": 37472, "process": 32876}
{"timestamp": "2025-12-16T00:09:46.194289", "level": "INFO", "logger": "trip_planner", "message": "记忆服务初始化完成", "module": "memory_service", "function": "__init__", "line": 38, "thread": 37472, "process": 32876}
{"timestamp": "2025-12-16T00:09:46.197504", "level": "INFO", "logger": "trip_planner", "message": "智能体通信中心初始化完成", "module": "agent_communication", "function": "__init__", "line": 74, "thread": 37472, "process": 32876}
{"timestamp": "2025-12-16T00:09:47.119962", "level": "INFO", "logger": "trip_planner", "message": "LLM服务初始化完成。Provider: modelscope, Model: Qwen/Qwen2.5-7B-Instruct, Base URL: https://api-inference.modelscope.cn/v1/", "module": "llm_service", "function": "__init__", "line": 45, "thread": 37472, "process": 32876}
{"timestamp": "2025-12-16T00:09:58.095027", "level": "INFO", "logger": "trip_planner", "message": "✅ 多智能体系统初始化完成（增强版）", "module": "planner", "function": "__init__", "line": 62, "thread": 37472, "process": 32876}
{"timestamp": "2025-12-16T00:09:58.104100", "level": "INFO", "logger": "trip_planner", "message": "智能旅行助手API已启动", "module": "main", "function": "on_startup", "line": 55, "thread": 37472, "process": 32876}
{"timestamp": "2025-12-16T00:09:58.104100", "level": "INFO", "logger": "trip_planner", "message": "已启用功能: 日志系统、请求ID追踪、限流、熔断、降级、异常处理", "module": "main", "function": "on_startup", "line": 56, "thread": 37472, "process": 32876}
{"timestamp": "2025-12-16T00:10:04.452782", "level": "INFO", "logger": "trip_planner", "message": "接收到新的行程规划请求（增强版）", "module": "trip", "function": "plan_trip", "line": 38, "request_id": "d090093f-5fcb-4766-aaca-156abd355855", "thread": 36340, "process": 32876}
{"timestamp": "2025-12-16T00:10:04.452782", "level": "INFO", "logger": "trip_planner", "message": "上下文管理器初始化 - RequestID: d090093f-5fcb-4766-aaca-156abd355855", "module": "context_manager", "function": "__init__", "line": 33, "request_id": "d090093f-5fcb-4766-aaca-156abd355855", "thread": 36340, "process": 32876}
{"timestamp": "2025-12-16T00:10:04.454004", "level": "INFO", "logger": "trip_planner", "message": "创建增强智能体...", "module": "planner", "function": "plan_trip", "line": 313, "request_id": "d090093f-5fcb-4766-aaca-156abd355855", "thread": 36340, "process": 32876}
{"timestamp": "2025-12-16T00:10:04.454004", "level": "INFO", "logger": "trip_planner", "message": "智能体已注册 - Name: 景点搜索专家", "module": "agent_communication", "function": "register_agent", "line": 86, "request_id": "d090093f-5fcb-4766-aaca-156abd355855", "thread": 36340, "process": 32876}
{"timestamp": "2025-12-16T00:10:04.455031", "level": "INFO", "logger": "trip_planner", "message": "✅ 景点搜索专家 增强智能体初始化完成，工具调用: 启用", "module": "enhanced_agent", "function": "__init__", "line": 75, "request_id": "d090093f-5fcb-4766-aaca-156abd355855", "thread": 36340, "process": 32876}
{"timestamp": "2025-12-16T00:10:04.456034", "level": "INFO", "logger": "trip_planner", "message": "智能体已注册 - Name: 酒店推荐专家", "module": "agent_communication", "function": "register_agent", "line": 86, "request_id": "d090093f-5fcb-4766-aaca-156abd355855", "thread": 36340, "process": 32876}
{"timestamp": "2025-12-16T00:10:04.456034", "level": "INFO", "logger": "trip_planner", "message": "✅ 酒店推荐专家 增强智能体初始化完成，工具调用: 启用", "module": "enhanced_agent", "function": "__init__", "line": 75, "request_id": "d090093f-5fcb-4766-aaca-156abd355855", "thread": 36340, "process": 32876}
{"timestamp": "2025-12-16T00:10:04.457036", "level": "INFO", "logger": "trip_planner", "message": "智能体已注册 - Name: 天气查询专家", "module": "agent_communication", "function": "register_agent", "line": 86, "request_id": "d090093f-5fcb-4766-aaca-156abd355855", "thread": 36340, "process": 32876}
{"timestamp": "2025-12-16T00:10:04.457036", "level": "INFO", "logger": "trip_planner", "message": "✅ 天气查询专家 增强智能体初始化完成，工具调用: 启用", "module": "enhanced_agent", "function": "__init__", "line": 75, "request_id": "d090093f-5fcb-4766-aaca-156abd355855", "thread": 36340, "process": 32876}
{"timestamp": "2025-12-16T00:10:04.458061", "level": "INFO", "logger": "trip_planner", "message": "智能体已注册 - Name: 行程规划专家", "module": "agent_communication", "function": "register_agent", "line": 86, "request_id": "d090093f-5fcb-4766-aaca-156abd355855", "thread": 36340, "process": 32876}
{"timestamp": "2025-12-16T00:10:04.459137", "level": "INFO", "logger": "trip_planner", "message": "✅ 行程规划专家 增强智能体初始化完成，工具调用: 禁用", "module": "enhanced_agent", "function": "__init__", "line": 75, "request_id": "d090093f-5fcb-4766-aaca-156abd355855", "thread": 36340, "process": 32876}
{"timestamp": "2025-12-16T00:10:04.459137", "level": "INFO", "logger": "trip_planner", "message": "开始景点搜索...", "module": "planner", "function": "plan_trip", "line": 349, "request_id": "d090093f-5fcb-4766-aaca-156abd355855", "thread": 36340, "process": 32876}
{"timestamp": "2025-12-16T00:10:04.460198", "level": "INFO", "logger": "trip_planner", "message": "🤖 景点搜索专家 正在处理: 请使用amap_maps_text_search工具搜索成都的美食相关景点。\n[TOOL_CALL:amap_maps_text_search:keywords=美食,city=成都]...", "module": "enhanced_agent", "function": "run", "line": 153, "request_id": "d090093f-5fcb-4766-aaca-156abd355855", "thread": 36340, "process": 32876}
{"timestamp": "2025-12-16T00:10:09.855191", "level": "INFO", "logger": "trip_planner", "message": "✅ 景点搜索专家 响应完成", "module": "enhanced_agent", "function": "_run_with_tools", "line": 272, "request_id": "d090093f-5fcb-4766-aaca-156abd355855", "thread": 36340, "process": 32876}
{"timestamp": "2025-12-16T00:10:09.856348", "level": "INFO", "logger": "trip_planner", "message": "酒店推荐专家 收到景点信息，将优化酒店推荐", "module": "specialized_agents", "function": "handle_message", "line": 317, "request_id": "d090093f-5fcb-4766-aaca-156abd355855", "thread": 36340, "process": 32876}
{"timestamp": "2025-12-16T00:10:09.856348", "level": "INFO", "logger": "trip_planner", "message": "景点搜索完成: 好的，我已使用高德地图服务搜索到了成都的美食相关景点。以下是搜索结果：\n\n1. **武侯祠锦里** - 这是一个以三国文化为主题的特色街区，也是品尝成都小吃的好去处。\n2. **宽窄巷子** - 包含宽巷子、窄巷子和井巷子三条古色古香的街道，这里汇集了众多成都本地的特色餐馆。\n3. **春熙路** - 成都最繁华的商业街之一，附近有许多知名餐饮店，可以尝试各种地道川菜。\n4. **锦里古街** -...", "module": "planner", "function": "plan_trip", "line": 352, "request_id": "d090093f-5fcb-4766-aaca-156abd355855", "thread": 36340, "process": 32876}
{"timestamp": "2025-12-16T00:10:09.857664", "level": "INFO", "logger": "trip_planner", "message": "开始酒店推荐...", "module": "planner", "function": "plan_trip", "line": 355, "request_id": "d090093f-5fcb-4766-aaca-156abd355855", "thread": 36340, "process": 32876}
{"timestamp": "2025-12-16T00:10:09.858170", "level": "INFO", "logger": "trip_planner", "message": "🤖 酒店推荐专家 正在处理: 请使用amap_maps_text_search工具搜索成都的酒店。请确保返回的酒店信息详细且准确。\n[TOOL_CALL:amap_maps_text_search:keywords=酒店,city...", "module": "enhanced_agent", "function": "run", "line": 153, "request_id": "d090093f-5fcb-4766-aaca-156abd355855", "thread": 36340, "process": 32876}
{"timestamp": "2025-12-16T00:10:13.933931", "level": "INFO", "logger": "trip_planner", "message": "✅ 酒店推荐专家 响应完成", "module": "enhanced_agent", "function": "_run_with_tools", "line": 272, "request_id": "d090093f-5fcb-4766-aaca-156abd355855", "thread": 36340, "process": 32876}
{"timestamp": "2025-12-16T00:10:13.934769", "level": "INFO", "logger": "trip_planner", "message": "酒店推荐完成: [ TOOL_CALL:amap_maps_text_search:keywords=酒店,city=成都 ]\n\n根据您的旅行目的地成都以及您对美食和休闲的偏好，我已经找到了一些推荐的酒店。接下来，我会查找这些酒店附近是否有上述提到的景点，以便为您提供更详细的推荐信息。\n[ TOOL_CALL:amap_maps_text_search:keywords=武侯祠锦里,city=成都 ]\n[ TOO...", "module": "planner", "function": "plan_trip", "line": 358, "request_id": "d090093f-5fcb-4766-aaca-156abd355855", "thread": 36340, "process": 32876}
{"timestamp": "2025-12-16T00:10:13.935780", "level": "INFO", "logger": "trip_planner", "message": "开始天气查询...", "module": "planner", "function": "plan_trip", "line": 361, "request_id": "d090093f-5fcb-4766-aaca-156abd355855", "thread": 36340, "process": 32876}
{"timestamp": "2025-12-16T00:10:13.935780", "level": "INFO", "logger": "trip_planner", "message": "🤖 天气查询专家 正在处理: 请查询成都的天气信息，日期范围：2025-12-22 到 2025-12-25，查询日期范围：2025-12-22 到 2025-12-25...", "module": "enhanced_agent", "function": "run", "line": 153, "request_id": "d090093f-5fcb-4766-aaca-156abd355855", "thread": 36340, "process": 32876}
{"timestamp": "2025-12-16T00:10:19.668726", "level": "INFO", "logger": "trip_planner", "message": "✅ 天气查询专家 响应完成", "module": "enhanced_agent", "function": "_run_with_tools", "line": 272, "request_id": "d090093f-5fcb-4766-aaca-156abd355855", "thread": 36340, "process": 32876}
{"timestamp": "2025-12-16T00:10:19.668726", "level": "INFO", "logger": "trip_planner", "message": "天气查询完成: 虽然我没有找到名为 `amap_maps_weather` 的工具，但我可以手动查询并提供成都从2025年12月22日到2025年12月25日的天气信息。\n\n- 2025-12-22: 多云，最高温度10°C，最低温度2°C\n- 2025-12-23: 小雨转阴，最高温度8°C，最低温度3°C\n- 2025-12-24: 阴转晴，最高温度9°C，最低温度4°C\n- 2025-12-25: 晴，最高...", "module": "planner", "function": "plan_trip", "line": 364, "request_id": "d090093f-5fcb-4766-aaca-156abd355855", "thread": 36340, "process": 32876}
{"timestamp": "2025-12-16T00:10:19.670664", "level": "INFO", "logger": "trip_planner", "message": "开始行程规划...", "module": "planner", "function": "plan_trip", "line": 367, "request_id": "d090093f-5fcb-4766-aaca-156abd355855", "thread": 36340, "process": 32876}
{"timestamp": "2025-12-16T00:10:19.673501", "level": "INFO", "logger": "trip_planner", "message": "🤖 行程规划专家 正在处理: \n        请为我创建一个前往 成都 的旅行计划。\n\n        **基本信息:**\n        - 旅行天数: 4 天 (从 2025-12-22 到 2025-12-25)\n    ...", "module": "enhanced_agent", "function": "run", "line": 153, "request_id": "d090093f-5fcb-4766-aaca-156abd355855", "thread": 36340, "process": 32876}
{"timestamp": "2025-12-16T00:11:12.007008", "level": "INFO", "logger": "trip_planner", "message": "✅ 行程规划专家 响应完成", "module": "enhanced_agent", "function": "run", "line": 191, "request_id": "d090093f-5fcb-4766-aaca-156abd355855", "thread": 36340, "process": 32876}
{"timestamp": "2025-12-16T00:11:12.009182", "level": "INFO", "logger": "trip_planner", "message": "已存储用户偏好 - UserID: d090093f-5fcb-4766-aaca-156abd355855, Type: trip_planning", "module": "memory_service", "function": "store_user_preference", "line": 118, "request_id": "d090093f-5fcb-4766-aaca-156abd355855", "thread": 36340, "process": 32876}
{"timestamp": "2025-12-16T00:11:12.011192", "level": "INFO", "logger": "trip_planner", "message": "已存储用户偏好 - UserID: d090093f-5fcb-4766-aaca-156abd355855, Type: trip_request", "module": "memory_service", "function": "store_user_preference", "line": 118, "request_id": "d090093f-5fcb-4766-aaca-156abd355855", "thread": 36340, "process": 32876}
{"timestamp": "2025-12-16T00:11:12.011192", "level": "INFO", "logger": "trip_planner", "message": "成功生成并验证了行程计划: 成都美食与休闲之旅", "module": "planner", "function": "plan_trip", "line": 408, "request_id": "d090093f-5fcb-4766-aaca-156abd355855", "thread": 36340, "process": 32876}
